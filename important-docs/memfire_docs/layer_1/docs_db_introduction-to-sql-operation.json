{
  "url": "https://docs.memfiredb.com/docs/db/introduction-to-sql-operation/",
  "title": "SQL操作入门 | MemFire Cloud在线文档",
  "depth": 1,
  "timestamp": "2025-08-12 17:41:03",
  "html": "<main class=\"page-content bg-transparent\">\n<div class=\"top-header d-print-none\" id=\"top-header\">\n<div class=\"header-bar d-flex justify-content-between\">\n<div class=\"d-flex align-items-center\">\n<a alt=\"HomePage\" aria-label=\"HomePage\" class=\"logo-icon me-3\" href=\"/\">\n<div class=\"small\">\n<!--?xml version=\"1.0\" encoding=\"UTF-8\"?-->\n<svg height=\"112px\" version=\"1.1\" viewbox=\"0 0 99 112\" width=\"99px\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<title>MemFireDB备份 6</title>\n<defs>\n<lineargradient id=\"linearGradient-1\" x1=\"49.9999885%\" x2=\"49.9999885%\" y1=\"98.082503%\" y2=\"0.766550128%\">\n<stop offset=\"0%\" stop-color=\"#ED1C23\"></stop>\n<stop offset=\"100%\" stop-color=\"#FBAF3B\"></stop>\n</lineargradient>\n</defs>\n<g fill=\"none\" fill-rule=\"evenodd\" id=\"定稿\" stroke=\"none\" stroke-width=\"1\">\n<g id=\"MemFireDB备份-6\">\n<polygon fill=\"#F9AE7C\" id=\"Fill-1\" points=\"25.9728553 40.7912363 47.4268317 0.00591833831 1.15453123 26.7215251\"></polygon>\n<polygon fill=\"#F9AE7C\" id=\"Fill-3\" points=\"97.4213117 26.7267606 51.1285247 0.000910513587 72.4242993 40.8351686\"></polygon>\n<polygon fill=\"#F9904A\" id=\"Fill-5\" points=\"24.8347133 42.7618153 0.000455256793 28.682999 0.000455256793 82.1608764\"></polygon>\n<polygon fill=\"url(#linearGradient-1)\" id=\"Fill-7\" points=\"27.6634514 42.4662399 49.279044 109.05096 70.7296059 42.507213 49.2779058 1.3747617\"></polygon>\n<polygon fill=\"#F9904A\" id=\"Fill-9\" points=\"98.5660549 28.6951771 73.5622137 42.8047233 98.5660549 82.1719163\"></polygon>\n<polygon fill=\"#FB6D33\" id=\"Fill-13\" points=\"72.2987623 45.061545 50.7514582 111.900071 97.579172 84.8646465\"></polygon>\n<polygon fill=\"#FB6D33\" id=\"Fill-15\" points=\"26.1006687 45.0226206 0.987565799 84.8644188 47.8095888 111.898705\"></polygon>\n<path d=\"M60.0737516,38.507213 C59.3168872,35.669825 57.0462939,33.3514298 57.0462939,33.3514298 C57.0462939,33.3514298 57.0804382,35.8849338 56.2894295,37.513615 C55.4847631,39.1696116 53.8765685,40.3054773 53.8765685,40.3054773 C53.8765685,40.3054773 56.1016361,33.8840802 54.2715038,30.1247973 C52.0259496,25.5073552 49.1771803,23.3357803 49.1771803,23.3357803 C49.1771803,23.3357803 50.1070423,28.1319107 48.6240432,31.5065016 C47.1672215,34.8264618 42.8058614,36.7260208 40.7241997,38.7132167 C39.1865699,40.1791435 38.0814341,43.0711623 37.6068289,44.4847347 C37.5715465,44.5883056 37.560165,44.6918765 37.5533362,44.7943093 C37.584066,43.9816759 37.8890881,39.8024186 40.9654858,37.4293925 C43.8404325,35.2111538 41.2431925,30.3478731 41.2431925,30.3478731 C41.2431925,30.3478731 41.7212121,32.5638355 40.9939394,34.1401622 C40.2655285,35.7153507 38.7187936,36.5962726 38.0154218,38.259098 C37.3883056,39.7409589 37.5203301,44.1432921 37.5453692,44.8409731 C37.5453692,44.8591834 37.5476455,44.8762555 37.5476455,44.8921895 C37.5476455,44.9263338 37.5487836,44.9456822 37.5487836,44.9456822 L37.5487836,44.9115379 C37.5590269,45.2655001 37.7138142,45.6080808 37.9972116,45.8448143 L48.3713757,55.6442168 C48.8380139,56.0323232 49.5163466,56.0334614 49.9841229,55.6476312 L60.5938825,45.7105136 C60.9034571,45.4544316 61.0719021,45.0686015 61.0457249,44.6656992 C60.9546735,43.2282259 60.5699815,40.3692133 60.0737516,38.507213\" fill=\"#FFFFFF\" id=\"Fill-17\"></path>\n</g>\n</g>\n</svg>\n</div>\n<div class=\"big\">\n<svg height=\"20\" width=\"232\" xmlns=\"http://www.w3.org/2000/svg\"><defs><lineargradient id=\"a\" x1=\"50%\" x2=\"50%\" y1=\"98.083%\" y2=\".767%\"><stop offset=\"0%\" stop-color=\"#ED1C23\"></stop><stop offset=\"100%\" stop-color=\"#FBAF3B\"></stop></lineargradient></defs><g fill=\"none\" fill-rule=\"evenodd\"><path d=\"M78.622 12.384l1.596 21.94H77.49l-.847-14.154-8.98 15.523-4.899-15.53-4.416 14.162H55.6l7.085-21.871 5.712 17.174 10.224-17.244zm99.46.382l.324.01.454.036c.085.008.175.018.269.03l.61.096c1.09.203 2.518.644 3.883 1.596l.515.383-.46 3.694-.413-.62-.154-.195-.255-.285c-.765-.802-2.485-2.188-5.23-2.188-4.55 0-8.723 3.809-9.3 8.491-.287 2.311.334 4.469 1.755 6.077 1.342 1.517 3.257 2.354 5.39 2.354 2.606 0 4.58-1.225 5.606-2.04l.359-.3.424-.408.507-.552-.466 3.766-.093.06a12.622 12.622 0 01-4.577 1.842l-.629.1-.53.058-.418.027-.444.003c-2.918-.002-5.532-1.142-7.36-3.21-1.851-2.096-2.67-4.88-2.305-7.837.73-5.88 5.964-10.696 11.806-10.974l.732-.014zm18.174 9.018c1.724 0 3.344.713 4.443 1.956 1.101 1.248 1.59 2.88 1.377 4.596-.432 3.504-3.808 6.466-7.375 6.466-1.728 0-3.348-.715-4.45-1.96-1.096-1.242-1.583-2.864-1.377-4.563.44-3.52 3.818-6.495 7.382-6.495zm19.446.535l-1.486 12.02h-2.558l.16-1.292c-.936.93-2.462 1.755-4.173 1.755-1.318 0-2.48-.492-3.267-1.385-.804-.91-1.168-2.184-1.008-3.497l.9-7.274 2.597-.327-.914 7.402c-.101.785.084 1.466.525 1.968.49.552 1.27.845 2.25.845 1.526 0 3.3-1.155 3.51-2.873l.87-7.015 2.594-.327zm-63.587-.547c1.77 0 3.21.58 4.164 1.678 1.047 1.207 1.48 3.01 1.263 5.233l-.097.771h-9.914c.16 1.896 1.567 2.979 3.895 2.979 1.806 0 2.878-.434 3.868-.961l1.119-.623-.312 2.522-.106.06c-1.224.687-2.604 1.356-4.8 1.356-2.092 0-3.873-.708-5.006-1.992-.991-1.12-1.404-2.599-1.198-4.272.548-4.433 4.001-6.751 7.124-6.751zm-62.717 0c1.771 0 3.211.58 4.164 1.678 1.048 1.207 1.48 3.01 1.263 5.233l-.097.771h-9.914c.16 1.896 1.567 2.979 3.895 2.979 1.622 0 2.652-.35 3.563-.803l.594-.315.83-.466-.312 2.522-.105.06c-1.224.687-2.604 1.356-4.8 1.356-2.093 0-3.874-.708-5.007-1.992-.99-1.12-1.404-2.599-1.197-4.272.547-4.433 4-6.751 7.123-6.751zM231.476 12l-2.767 22.34h-2.556l.197-1.59c-1.104 1.191-2.882 2.021-4.471 2.021-1.781 0-3.24-.583-4.217-1.69-1.02-1.151-1.452-2.817-1.222-4.686.485-3.908 3.43-6.636 7.167-6.636 1.565 0 3.065.832 3.852 2.064l1.356-10.968 2.661-.855zm-42.07.002L186.64 34.34h-2.556l2.664-21.483 2.66-.854zm-56.632 1.268l-1.166 2.527h-9.586l-.85 6.867h6.627v.48h-.12l-.883 1.778v.24h-5.933l-1.138 9.163h-2.729l2.612-21.055h13.166zm2.715 9.038l-1.497 12.017h-2.559l1.455-11.722 2.601-.295zm-24.427-.537c1 0 1.93.427 2.616 1.204.84.95 1.224 2.29 1.053 3.677l-.955 7.673h-2.527l.922-7.445c.13-1.017-.027-1.81-.45-2.287-.326-.367-.815-.554-1.458-.554-1.954 0-3.178 1.346-3.332 2.613l-.955 7.673h-2.556l.922-7.445c.127-1.03-.024-1.826-.442-2.297-.319-.362-.801-.544-1.437-.544-1.522 0-3.3 1.166-3.516 2.901l-.912 7.385h-2.559l1.455-11.722 2.594-.295-.146 1.164c1.027-1.077 2.419-1.701 3.854-1.701 1.375 0 2.58.79 3.226 2.083.914-1.13 2.05-2.083 4.603-2.083zm29.487.532l-.206 1.73c1.082-.978 2.932-1.7 4.514-1.7h.269l-.271 2.282h-.214c-1.814 0-4.469.837-4.7 2.7l-.866 7.01h-2.558l1.45-11.693 2.582-.329zm55.47 1.865c-2.31 0-4.27 1.792-4.563 4.168-.144 1.145.15 2.196.824 2.957.64.725 1.586 1.126 2.656 1.126 2.292 0 4.241-1.78 4.532-4.14.146-1.169-.144-2.237-.821-3.003-.634-.715-1.567-1.108-2.628-1.108zm27.497-.029c-2.278 0-4.15 1.752-4.45 4.17-.149 1.187.137 2.255.8 3.006.611.692 1.526 1.076 2.57 1.076 2.294 0 4.173-1.743 4.468-4.143.152-1.21-.13-2.285-.79-3.033-.623-.704-1.52-1.076-2.598-1.076zm-134.356.045c-1.89 0-3.372 1.094-4.015 2.947h7.164a2.853 2.853 0 00-.71-1.956c-.574-.648-1.416-.991-2.439-.991zm62.715 0c-1.892 0-3.37 1.094-4.013 2.947h7.166a2.867 2.867 0 00-.713-1.956c-.573-.648-1.416-.991-2.44-.991zm-17.267-7.614c.919 0 1.706.748 1.754 1.668a1.587 1.587 0 01-1.603 1.692c-.917 0-1.704-.75-1.754-1.668a1.593 1.593 0 011.603-1.692z\" fill=\"#116\"></path><path d=\"M11.131 17.482L20.326.002.495 11.453zm30.621-6.028L21.912 0l9.127 17.5z\" fill=\"#F9AE7C\"></path><path d=\"M10.643 18.326L0 12.293v22.919z\" fill=\"#F9904A\"></path><path d=\"M11.856 18.2l9.264 28.536 9.193-28.519L21.119.59z\" fill=\"url(#a)\"></path><path d=\"M42.243 12.298l-10.716 6.047 10.716 16.872z\" fill=\"#F9904A\"></path><path d=\"M30.985 19.312l-9.234 28.645L41.82 36.371zm-19.799-.017L.423 36.37 20.49 47.957z\" fill=\"#FB6D33\"></path><path d=\"M25.746 16.503c-.324-1.216-1.298-2.21-1.298-2.21s.015 1.086-.324 1.784c-.345.71-1.034 1.197-1.034 1.197s.954-2.752.17-4.363c-.963-1.98-2.184-2.91-2.184-2.91s.398 2.056-.237 3.502c-.624 1.423-2.494 2.237-3.386 3.088-.659.629-1.132 1.868-1.336 2.474a.509.509 0 00-.023.133c.013-.349.144-2.14 1.463-3.157 1.232-.95.119-3.035.119-3.035s.205.95-.107 1.625c-.312.676-.975 1.053-1.277 1.766-.268.635-.212 2.522-.201 2.82v.023l.001.022v-.014a.54.54 0 00.193.4l4.446 4.2c.2.166.49.166.69.001l4.548-4.259a.535.535 0 00.193-.448c-.039-.616-.203-1.84-.416-2.639\" fill=\"#FFF\"></path></g></svg>\n</div>\n</a>\n<button class=\"btn btn-icon btn-soft\" id=\"close-sidebar\">\n<span class=\"material-icons size-20 menu-icon align-middle\">menu</span>\n</button>\n</div>\n<div class=\"d-flex align-items-center\">\n<ul class=\"list-unstyled mb-0\">\n</ul>\n<a class=\"btn btn-icon btn-default ms-4\" href=\"https://memfiredb.com/\" target=\"_blank\" type=\"button\">官网</a>\n<a class=\"btn btn-icon btn-default ms-4\" href=\"https://community.memfiredb.com/\" target=\"_blank\" type=\"button\">论坛</a>\n<a class=\"btn btn-icon btn-default ms-4\" href=\"https://cloud.memfiredb.com/auth/login\" target=\"_blank\" type=\"button\">登录</a>\n<button aria-label=\"Toggle user interface mode\" class=\"btn btn-icon btn-default ms-2\" id=\"mode\" type=\"button\">\n<span class=\"toggle-dark\">\n<svg fill=\"currentColor\" height=\"30\" viewbox=\"0 0 48 48\" width=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n<title>Enable dark mode</title>\n<path d=\"M24 42q-7.5 0-12.75-5.25T6 24q0-7.5 5.25-12.75T24 6q.4 0 .85.025.45.025 1.15.075-1.8 1.6-2.8 3.95-1 2.35-1 4.95 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6 0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z\"></path>\n</svg>\n</span>\n<span class=\"toggle-light\">\n<svg fill=\"currentColor\" height=\"30\" viewbox=\"0 0 48 48\" width=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n<title>Enable light mode</title>\n<path d=\"M24 31q2.9 0 4.95-2.05Q31 26.9 31 24q0-2.9-2.05-4.95Q26.9 17 24 17q-2.9 0-4.95 2.05Q17 21.1 17 24q0 2.9 2.05 4.95Q21.1 31 24 31Zm0 3q-4.15 0-7.075-2.925T14 24q0-4.15 2.925-7.075T24 14q4.15 0 7.075 2.925T34 24q0 4.15-2.925 7.075T24 34ZM3.5 25.5q-.65 0-1.075-.425Q2 24.65 2 24q0-.65.425-1.075Q2.85 22.5 3.5 22.5h5q.65 0 1.075.425Q10 23.35 10 24q0 .65-.425 1.075-.425.425-1.075.425Zm36 0q-.65 0-1.075-.425Q38 24.65 38 24q0-.65.425-1.075.425-.425 1.075-.425h5q.65 0 1.075.425Q46 23.35 46 24q0 .65-.425 1.075-.425.425-1.075.425ZM24 10q-.65 0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 10 24 10Zm0 36q-.65 0-1.075-.425-.425-.425-.425-1.075v-5q0-.65.425-1.075Q23.35 38 24 38q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46ZM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05 0 .6-.4 1-.4.45-1.025.45-.625 0-1.075-.4Zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45ZM33.9 14.1q-.45-.45-.45-1.05 0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4-.625 0-1.075-.4ZM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425ZM24 24Z\"></path>\n</svg>\n</span>\n</button>\n</div>\n</div>\n</div>\n<div class=\"container-fluid\">\n<div class=\"layout-spacing\">\n<div class=\"d-md-flex justify-content-between align-items-center\"></div>\n<div class=\"row flex-xl-nowrap\">\n<div class=\"docs-toc col-xl-3 d-xl-block\"><toc>\n<div class=\"fw-bold text-uppercase mb-2\">本页</div>\n\n</toc></div>\n<div class=\"docs-toc-mobile d-print-none d-xl-none\">\n<button aria-expanded=\"false\" class=\"btn-secondary dropdown-toggle\" data-bs-offset=\"0,0\" data-bs-toggle=\"dropdown\" id=\"toc-dropdown-btn\" type=\"button\">分类</button>\n</div>\n<div class=\"docs-content col-12 col-xl-9 mt-0\">\n<div class=\"mb-0 d-flex\">\n<h1 class=\"content-title mb-0\">\n                                                    SQL操作入门\n                                                    \n                                                </h1>\n</div>\n<div class=\"main-content\" data-bs-root-margin=\"0px 0px -65%\" data-bs-spy=\"scroll\" data-bs-target=\"#toc-mobile\" id=\"content\">\n<div data-prismjs-copy=\"\" data-prismjs-copy-error=\"\" data-prismjs-copy-success=\"\">\n<p>MemFireDB兼容PostgreSQL 11.2版本，具体可以参考<a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/db/guides/compatibility/'&gt;&lt;p&gt;参考指南&lt;/p&gt;&lt;strong&gt;兼容性说明&lt;/strong&gt;&lt;br&gt;&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/db/guides/compatibility/\">兼容性说明</a>。<br/>\n新建数据库后，您可以使用在线编辑器、兼容的客户端工具连接数据库并执行SQL语句建表存储数据。<br/>\nSQL 是一门声明性语言，它是数据库用户与数据库交互的方式。它更像是一种自然语言，好像在用英语与数据库进行对话。本文档介绍基本的SQL操作。</p>\n<h2 id=\"分类\">分类 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%86%e7%b1%bb\"><i class=\"material-icons align-middle\">link</i></a></h2><p>SQL主要组件包括数据定义语言（DDL）、数据操作语言（DML）、数据控制语言（DCL）。</p>\n<ul>\n<li>DDL (Data Definition Language)：数据定义语言，用来定义数据库对象，包括库、表、视图和索引等。DDL语句通过CREATE、ALTER和DROP命令来定义数据库中的结构、更改定义以及删除定义。</li>\n<li>DML (Data Manipulation Language)：数据操作语言，用来操作和业务相关的记录。 DML语句主要包括增、删、查、改操作。</li>\n<li>DCL (Data Control Language)：数据控制语言，用来定义访问权限和安全级别。</li>\n<li>TCL（Transaction control language ）：TCL语句管理数据库上的操作事务。</li>\n</ul>\n<h2 id=\"创建查看删除表\">创建、查看、删除表 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%9b%e5%bb%ba%e6%9f%a5%e7%9c%8b%e5%88%a0%e9%99%a4%e8%a1%a8\"><i class=\"material-icons align-middle\">link</i></a></h2><h3 id=\"创建表\">创建表 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%9b%e5%bb%ba%e8%a1%a8\"><i class=\"material-icons align-middle\">link</i></a></h3><p>要创建一个表，我们要用到<code>CREATE TABLE</code>命令。在这个命令中 我们需要为新表至少指定一个名字、列的名字及数据类型。例如：<br/>\n让我们创建一个简单的表，如下所示。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"433317f\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> employees <span class=\"token punctuation\">(</span>\n    employee_no <span class=\"token keyword\">integer</span><span class=\"token punctuation\">,</span>\n    name <span class=\"token keyword\">text</span><span class=\"token punctuation\">,</span>\n    department <span class=\"token keyword\">text</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"查询表结构\">查询表结构 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e6%9f%a5%e8%af%a2%e8%a1%a8%e7%bb%93%e6%9e%84\"><i class=\"material-icons align-middle\">link</i></a></h3><p>要描述我们刚刚创建的表，请执行以下操作。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language- language-none\" id=\"becf3ab\" tabindex=\"0\"><code class=\"language-none\">\\d employees</code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>输出：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language- language-none\" id=\"86212c6\" tabindex=\"0\"><code class=\"language-none\">Table \"public.employees\"\n\n   Column    |  Type   | Collation | Nullable | Default\n-------------+---------+-----------+----------+---------\n employee_no | integer |           |          |\n name        | text    |           |          |\n department  | text    |           |          |</code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"删除表\">删除表 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%a0%e9%99%a4%e8%a1%a8\"><i class=\"material-icons align-middle\">link</i></a></h3><p>一个表能够拥有的列的数据是有限的，根据列的类型，这个限制介于250和1600之间。但是，极少会定义一个接近这个限制的表，即便有也是一个值的商榷的设计。 <br/>\n如果我们不再需要一个表，我们可以通过使用<code>DROP TABLE</code>命令来移除它。例如：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"5e33dc2\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> employees<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>尝试移除一个不存在的表会引起错误。然而，在SQL脚本中在创建每个表之前无条件地尝试移除它的做法是很常见的，即使发生错误也会忽略之，因此这样的脚本可以在表存在和不存在时都工作得很好（如果你喜欢，可以使用<code>DROP TABLE IF EXISTS</code>变体来防止出现错误消息，但这并非标准SQL）。</p>\n<h2 id=\"创建查看删除索引\">创建、查看、删除索引 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%9b%e5%bb%ba%e6%9f%a5%e7%9c%8b%e5%88%a0%e9%99%a4%e7%b4%a2%e5%bc%95\"><i class=\"material-icons align-middle\">link</i></a></h2><p>索引可以提高数据的访问速度，但同时也增加了插入、更新和删除操作的处理时间。所以是否要为表增加索引，索引建立在哪些字段上，是创建索引前必须要考虑的问题。需要分析应用程序的业务处理、数据使用、经常被用作查询的条件、或者被要求排序的字段来确定是否建立索引。</p>\n<p>常见操作包括:</p>\n<h3 id=\"创建索引\">创建索引 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%9b%e5%bb%ba%e7%b4%a2%e5%bc%95\"><i class=\"material-icons align-middle\">link</i></a></h3>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"ff616cb\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">INDEX</span> employees_name <span class=\"token keyword\">ON</span> employees<span class=\"token punctuation\">(</span>name <span class=\"token keyword\">ASC</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"删除索引\">删除索引 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%a0%e9%99%a4%e7%b4%a2%e5%bc%95\"><i class=\"material-icons align-middle\">link</i></a></h3>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"395c74f\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">INDEX</span> employees_name<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"记录的增删改查\">记录的增删改查 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e8%ae%b0%e5%bd%95%e7%9a%84%e5%a2%9e%e5%88%a0%e6%94%b9%e6%9f%a5\"><i class=\"material-icons align-middle\">link</i></a></h2><h3 id=\"插入数据\">插入数据 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e6%8f%92%e5%85%a5%e6%95%b0%e6%8d%ae\"><i class=\"material-icons align-middle\">link</i></a></h3><p>在创建一个表后，表中并没有数据，在使用这个表之前，需要向表中插入数据。用户可以一次插入一行或多行数据，也可以从指定表插入数据。</p>\n<p>新建数据库表未填充数据,可以通过一次插入一行来添加包含完整或部分数据的一行或多行。</p>\n<p>例如，您使用的数据库包括下表：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"5f92802\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> employees <span class=\"token punctuation\">(</span>\n    employee_no <span class=\"token keyword\">integer</span><span class=\"token punctuation\">,</span>\n    name <span class=\"token keyword\">text</span><span class=\"token punctuation\">,</span>\n    department <span class=\"token keyword\">text</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p><strong>插入一行数据</strong></p>\n<p>假设您知道表中的列顺序，则可以通过执行以下命令来插入行：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"e904b85\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> employees <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'John Smith'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Marketing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>如果您不知道列的顺序，则可以选择INSERT在添加新行时在语句中列出它们，如下所示：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"578f437\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> employees <span class=\"token punctuation\">(</span>employee_no<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> department<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'John Smith'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Marketing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>您可以通过执行以下命令来查看更改：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"de3e26f\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> employees<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>您始终可以通过执行以下命令来查看表架构：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language- language-none\" id=\"218d363\" tabindex=\"0\"><code class=\"language-none\">memfire=# \\d employees</code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p><strong>插入多行数据</strong></p>\n<p>您可以使用通过执行一条<code>INSERT</code>语句来插入多行，如以下示例所示：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"1b3dae6\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> employees\n<span class=\"token keyword\">VALUES</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'John Smith'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Marketing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Bette Davis'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Sales'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Lucille Ball'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Operations'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"更新数据\">更新数据 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e6%9b%b4%e6%96%b0%e6%95%b0%e6%8d%ae\"><i class=\"material-icons align-middle\">link</i></a></h3><p>修改已经存储在数据库中数据的行为叫做更新。用户可以更新单独一行，所有行或者指定的部分行。还可以独立更新每个字段，而其他字段则不受影响。</p>\n<p>MemFireDB允许您更新表中的单个行，所有行或一组行。您可以分别更新每列。</p>\n<p>下面的示例创建一个表，并用数据填充该表：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"0edb03b\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> employees <span class=\"token punctuation\">(</span>\n    employee_no <span class=\"token keyword\">integer</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n    name <span class=\"token keyword\">text</span> <span class=\"token keyword\">UNIQUE</span><span class=\"token punctuation\">,</span>\n    department <span class=\"token keyword\">text</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> employees\n<span class=\"token keyword\">VALUES</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'John Smith'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Marketing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Bette Davis'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Sales'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Lucille Ball'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Operations'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>如果员工Lucille Ball的部门从“操作工人”更改为“销售”，则该<code>employees</code>表可使用该UPDATE语句进行了修改。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"becf576\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> employees <span class=\"token keyword\">SET</span> department <span class=\"token operator\">=</span><span class=\"token string\">'Sales'</span> <span class=\"token keyword\">WHERE</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Lucille Ball'</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p><code>Upsert</code>是在行插入过程中的合并：当您插入新表行时，会检查该行是否已存在，如果存在，则更新该行。否则，将插入新行。</p>\n<p>如果员工John Smith的部门从“市场营销”更改为“销售”，则该employees表可能已使用该UPDATE语句进行了修改。MemFireDB提供了\n<code>INSERT ON CONFLICT</code>可用于执行upsert的语句：如果已指派John Smith在这两个部门中工作，则可以将其UPDATE用作该INSERT语句的操作，如以下示例所示：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"7c1305c\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> employees <span class=\"token punctuation\">(</span>employee_no<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> department<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'John Smith'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Sales'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">ON</span> CONFLICT <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">DO</span>\n<span class=\"token keyword\">UPDATE</span> <span class=\"token keyword\">SET</span> department <span class=\"token operator\">=</span> EXCLUDED<span class=\"token punctuation\">.</span>department <span class=\"token operator\">||</span> <span class=\"token string\">';'</span> <span class=\"token operator\">||</span> employees<span class=\"token punctuation\">.</span>department<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>以下是前面的示例产生的输出：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language- language-none\" id=\"88123e9\" tabindex=\"0\"><code class=\"language-none\">employee_no | name          | department\n-------------+---------------+-----------------\n 1           | John Smith    | Sales;Marketing\n 2           | Bette Davis   | Sales\n 3           | Lucille Ball  | Sales</code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>在某些情况下，<code>DO NOTHING</code>如果表中已存在特定记录，则无需采取任何操作()。例如，执行以下操作不会更改Bette Davis的部门：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"3f1a191\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> employees <span class=\"token punctuation\">(</span>employee_no<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> department<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Bette Davis'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Operations'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">ON</span> CONFLICT\n<span class=\"token keyword\">DO</span> NOTHING<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"删除数据\">删除数据 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%a0%e9%99%a4%e6%95%b0%e6%8d%ae\"><i class=\"material-icons align-middle\">link</i></a></h3><p>可以通过执行该<code>DELETE</code>语句从表中删除行。与更新行一样，您可以根据语句中定义的一个或多个条件删除特定行。如果不提供条件，则删除所有行。</p>\n<p>下面的示例删除具有销售部门的所有行：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"e49633f\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> employees <span class=\"token keyword\">WHERE</span> department <span class=\"token operator\">=</span> <span class=\"token string\">'Sales'</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>您可以按如下所示从表中删除所有行：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"2b7bd04\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> employees<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"查询数据\">查询数据 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e6%9f%a5%e8%af%a2%e6%95%b0%e6%8d%ae\"><i class=\"material-icons align-middle\">link</i></a></h3><p>使用<code>SELECT</code>语句检索表内数据。例如：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"4d4ef97\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> employees<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>在<code>SELECT</code>后面加上要查询的列名。例如：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language- language-none\" id=\"b63c258\" tabindex=\"0\"><code class=\"language-none\">SELECT name FROM employees;\n    name\n------------\n John Smith\n(1 row)</code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>使用<code>WHERE</code>子句，对所有记录进行是否符合条件的筛选后再返回。例如：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"336ae62\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> employees <span class=\"token keyword\">where</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'John Smith'</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n</div>\n</div>\n<div><hr class=\"doc-hr\"/>\n<div class=\"d-print-none\" id=\"doc-nav\">\n<div class=\"row flex-xl-nowrap\">\n<div class=\"col-sm-6 pt-2 doc-next\">\n<a href=\"/docs/db/client-connection/\">\n<div class=\"card h-100 my-1\">\n<div class=\"card-body py-2\">\n<p class=\"card-title fs-5 fw-semibold lh-base mb-0\"><i class=\"material-icons align-middle\">navigate_before</i> 客户端工具</p>\n</div>\n</div>\n</a>\n</div>\n<div class=\"col-sm-6 pt-2 doc-prev\">\n<a class=\"ms-auto\" href=\"/docs/db/example/python-example/\">\n<div class=\"card h-100 my-1 text-end\">\n<div class=\"card-body py-2\">\n<p class=\"card-title fs-5 fw-semibold lh-base mb-0\">Python2示例 <i class=\"material-icons align-middle\">navigate_next</i></p>\n</div>\n</div>\n</a>\n</div>\n</div>\n</div></div>\n</div>\n</div>\n</div>\n</div>\n\n</main>",
  "markdown": "[MemFireDB备份 6](/)\n\nmenu\n\n[官网](https://memfiredb.com/)\n[论坛](https://community.memfiredb.com/)\n[登录](https://cloud.memfiredb.com/auth/login)\n\nEnable dark mode\n\nEnable light mode\n\n本页\n\n分类\n\n# SQL操作入门\n\nMemFireDB兼容PostgreSQL 11.2版本，具体可以参考[兼容性说明](/docs/db/guides/compatibility/)。  \n新建数据库后，您可以使用在线编辑器、兼容的客户端工具连接数据库并执行SQL语句建表存储数据。  \nSQL 是一门声明性语言，它是数据库用户与数据库交互的方式。它更像是一种自然语言，好像在用英语与数据库进行对话。本文档介绍基本的SQL操作。\n\n## 分类 [*link*](#%e5%88%86%e7%b1%bb)\n\nSQL主要组件包括数据定义语言（DDL）、数据操作语言（DML）、数据控制语言（DCL）。\n\n* DDL (Data Definition Language)：数据定义语言，用来定义数据库对象，包括库、表、视图和索引等。DDL语句通过CREATE、ALTER和DROP命令来定义数据库中的结构、更改定义以及删除定义。\n* DML (Data Manipulation Language)：数据操作语言，用来操作和业务相关的记录。 DML语句主要包括增、删、查、改操作。\n* DCL (Data Control Language)：数据控制语言，用来定义访问权限和安全级别。\n* TCL（Transaction control language ）：TCL语句管理数据库上的操作事务。\n\n## 创建、查看、删除表 [*link*](#%e5%88%9b%e5%bb%ba%e6%9f%a5%e7%9c%8b%e5%88%a0%e9%99%a4%e8%a1%a8)\n\n### 创建表 [*link*](#%e5%88%9b%e5%bb%ba%e8%a1%a8)\n\n要创建一个表，我们要用到`CREATE TABLE`命令。在这个命令中 我们需要为新表至少指定一个名字、列的名字及数据类型。例如：  \n让我们创建一个简单的表，如下所示。\n\n```\nCREATE TABLE employees (\n    employee_no integer,\n    name text,\n    department text\n);\n```\n\n### 查询表结构 [*link*](#%e6%9f%a5%e8%af%a2%e8%a1%a8%e7%bb%93%e6%9e%84)\n\n要描述我们刚刚创建的表，请执行以下操作。\n\n```\n\\d employees\n```\n\n输出：\n\n```\nTable \"public.employees\"\n\n   Column    |  Type   | Collation | Nullable | Default\n-------------+---------+-----------+----------+---------\n employee_no | integer |           |          |\n name        | text    |           |          |\n department  | text    |           |          |\n```\n\n### 删除表 [*link*](#%e5%88%a0%e9%99%a4%e8%a1%a8)\n\n一个表能够拥有的列的数据是有限的，根据列的类型，这个限制介于250和1600之间。但是，极少会定义一个接近这个限制的表，即便有也是一个值的商榷的设计。   \n如果我们不再需要一个表，我们可以通过使用`DROP TABLE`命令来移除它。例如：\n\n```\nDROP TABLE employees;\n```\n\n尝试移除一个不存在的表会引起错误。然而，在SQL脚本中在创建每个表之前无条件地尝试移除它的做法是很常见的，即使发生错误也会忽略之，因此这样的脚本可以在表存在和不存在时都工作得很好（如果你喜欢，可以使用`DROP TABLE IF EXISTS`变体来防止出现错误消息，但这并非标准SQL）。\n\n## 创建、查看、删除索引 [*link*](#%e5%88%9b%e5%bb%ba%e6%9f%a5%e7%9c%8b%e5%88%a0%e9%99%a4%e7%b4%a2%e5%bc%95)\n\n索引可以提高数据的访问速度，但同时也增加了插入、更新和删除操作的处理时间。所以是否要为表增加索引，索引建立在哪些字段上，是创建索引前必须要考虑的问题。需要分析应用程序的业务处理、数据使用、经常被用作查询的条件、或者被要求排序的字段来确定是否建立索引。\n\n常见操作包括:\n\n### 创建索引 [*link*](#%e5%88%9b%e5%bb%ba%e7%b4%a2%e5%bc%95)\n\n```\nCREATE INDEX employees_name ON employees(name ASC);\n```\n\n### 删除索引 [*link*](#%e5%88%a0%e9%99%a4%e7%b4%a2%e5%bc%95)\n\n```\nDROP INDEX employees_name;\n```\n\n## 记录的增删改查 [*link*](#%e8%ae%b0%e5%bd%95%e7%9a%84%e5%a2%9e%e5%88%a0%e6%94%b9%e6%9f%a5)\n\n### 插入数据 [*link*](#%e6%8f%92%e5%85%a5%e6%95%b0%e6%8d%ae)\n\n在创建一个表后，表中并没有数据，在使用这个表之前，需要向表中插入数据。用户可以一次插入一行或多行数据，也可以从指定表插入数据。\n\n新建数据库表未填充数据,可以通过一次插入一行来添加包含完整或部分数据的一行或多行。\n\n例如，您使用的数据库包括下表：\n\n```\nCREATE TABLE employees (\n    employee_no integer,\n    name text,\n    department text\n);\n```\n\n**插入一行数据**\n\n假设您知道表中的列顺序，则可以通过执行以下命令来插入行：\n\n```\nINSERT INTO employees VALUES (1, 'John Smith', 'Marketing');\n```\n\n如果您不知道列的顺序，则可以选择INSERT在添加新行时在语句中列出它们，如下所示：\n\n```\nINSERT INTO employees (employee_no, name, department)\nVALUES (1, 'John Smith', 'Marketing');\n```\n\n您可以通过执行以下命令来查看更改：\n\n```\nSELECT * FROM employees;\n```\n\n您始终可以通过执行以下命令来查看表架构：\n\n```\nmemfire=# \\d employees\n```\n\n**插入多行数据**\n\n您可以使用通过执行一条`INSERT`语句来插入多行，如以下示例所示：\n\n```\nINSERT INTO employees\nVALUES\n(1, 'John Smith', 'Marketing'),\n(2, 'Bette Davis', 'Sales'),\n(3, 'Lucille Ball', 'Operations');\n```\n\n### 更新数据 [*link*](#%e6%9b%b4%e6%96%b0%e6%95%b0%e6%8d%ae)\n\n修改已经存储在数据库中数据的行为叫做更新。用户可以更新单独一行，所有行或者指定的部分行。还可以独立更新每个字段，而其他字段则不受影响。\n\nMemFireDB允许您更新表中的单个行，所有行或一组行。您可以分别更新每列。\n\n下面的示例创建一个表，并用数据填充该表：\n\n```\nCREATE TABLE employees (\n    employee_no integer PRIMARY KEY,\n    name text UNIQUE,\n    department text NOT NULL\n);\nINSERT INTO employees\nVALUES\n(1, 'John Smith', 'Marketing'),\n(2, 'Bette Davis', 'Sales'),\n(3, 'Lucille Ball', 'Operations');\n```\n\n如果员工Lucille Ball的部门从“操作工人”更改为“销售”，则该`employees`表可使用该UPDATE语句进行了修改。\n\n```\nUPDATE employees SET department ='Sales' WHERE name = 'Lucille Ball';\n```\n\n`Upsert`是在行插入过程中的合并：当您插入新表行时，会检查该行是否已存在，如果存在，则更新该行。否则，将插入新行。\n\n如果员工John Smith的部门从“市场营销”更改为“销售”，则该employees表可能已使用该UPDATE语句进行了修改。MemFireDB提供了\n`INSERT ON CONFLICT`可用于执行upsert的语句：如果已指派John Smith在这两个部门中工作，则可以将其UPDATE用作该INSERT语句的操作，如以下示例所示：\n\n```\nINSERT INTO employees (employee_no, name, department)\nVALUES (1, 'John Smith', 'Sales')\nON CONFLICT (name)\nDO\nUPDATE SET department = EXCLUDED.department || ';' || employees.department;\n```\n\n以下是前面的示例产生的输出：\n\n```\nemployee_no | name          | department\n-------------+---------------+-----------------\n 1           | John Smith    | Sales;Marketing\n 2           | Bette Davis   | Sales\n 3           | Lucille Ball  | Sales\n```\n\n在某些情况下，`DO NOTHING`如果表中已存在特定记录，则无需采取任何操作()。例如，执行以下操作不会更改Bette Davis的部门：\n\n```\nINSERT INTO employees (employee_no, name, department)\nVALUES (2, 'Bette Davis', 'Operations');\nON CONFLICT\nDO NOTHING;\n```\n\n### 删除数据 [*link*](#%e5%88%a0%e9%99%a4%e6%95%b0%e6%8d%ae)\n\n可以通过执行该`DELETE`语句从表中删除行。与更新行一样，您可以根据语句中定义的一个或多个条件删除特定行。如果不提供条件，则删除所有行。\n\n下面的示例删除具有销售部门的所有行：\n\n```\nDELETE FROM employees WHERE department = 'Sales';\n```\n\n您可以按如下所示从表中删除所有行：\n\n```\nDELETE FROM employees;\n```\n\n### 查询数据 [*link*](#%e6%9f%a5%e8%af%a2%e6%95%b0%e6%8d%ae)\n\n使用`SELECT`语句检索表内数据。例如：\n\n```\nSELECT * FROM employees;\n```\n\n在`SELECT`后面加上要查询的列名。例如：\n\n```\nSELECT name FROM employees;\n    name\n------------\n John Smith\n(1 row)\n```\n\n使用`WHERE`子句，对所有记录进行是否符合条件的筛选后再返回。例如：\n\n```\nselect * from employees where name = 'John Smith';\n```\n\n---\n\n[*navigate\\_before* 客户端工具](/docs/db/client-connection/)\n\n[Python2示例 *navigate\\_next*](/docs/db/example/python-example/)"
}