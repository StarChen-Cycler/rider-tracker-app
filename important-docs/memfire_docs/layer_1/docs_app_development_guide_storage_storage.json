{
  "url": "https://docs.memfiredb.com/docs/app/development_guide/storage/storage/",
  "title": "概述 | MemFire Cloud在线文档",
  "depth": 1,
  "timestamp": "2025-08-12 17:55:13",
  "html": "<main class=\"page-content bg-transparent\">\n<div class=\"top-header d-print-none\" id=\"top-header\">\n<div class=\"header-bar d-flex justify-content-between\">\n<div class=\"d-flex align-items-center\">\n<a alt=\"HomePage\" aria-label=\"HomePage\" class=\"logo-icon me-3\" href=\"/\">\n<div class=\"small\">\n<!--?xml version=\"1.0\" encoding=\"UTF-8\"?-->\n<svg height=\"112px\" version=\"1.1\" viewbox=\"0 0 99 112\" width=\"99px\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<title>MemFireDB备份 6</title>\n<defs>\n<lineargradient id=\"linearGradient-1\" x1=\"49.9999885%\" x2=\"49.9999885%\" y1=\"98.082503%\" y2=\"0.766550128%\">\n<stop offset=\"0%\" stop-color=\"#ED1C23\"></stop>\n<stop offset=\"100%\" stop-color=\"#FBAF3B\"></stop>\n</lineargradient>\n</defs>\n<g fill=\"none\" fill-rule=\"evenodd\" id=\"定稿\" stroke=\"none\" stroke-width=\"1\">\n<g id=\"MemFireDB备份-6\">\n<polygon fill=\"#F9AE7C\" id=\"Fill-1\" points=\"25.9728553 40.7912363 47.4268317 0.00591833831 1.15453123 26.7215251\"></polygon>\n<polygon fill=\"#F9AE7C\" id=\"Fill-3\" points=\"97.4213117 26.7267606 51.1285247 0.000910513587 72.4242993 40.8351686\"></polygon>\n<polygon fill=\"#F9904A\" id=\"Fill-5\" points=\"24.8347133 42.7618153 0.000455256793 28.682999 0.000455256793 82.1608764\"></polygon>\n<polygon fill=\"url(#linearGradient-1)\" id=\"Fill-7\" points=\"27.6634514 42.4662399 49.279044 109.05096 70.7296059 42.507213 49.2779058 1.3747617\"></polygon>\n<polygon fill=\"#F9904A\" id=\"Fill-9\" points=\"98.5660549 28.6951771 73.5622137 42.8047233 98.5660549 82.1719163\"></polygon>\n<polygon fill=\"#FB6D33\" id=\"Fill-13\" points=\"72.2987623 45.061545 50.7514582 111.900071 97.579172 84.8646465\"></polygon>\n<polygon fill=\"#FB6D33\" id=\"Fill-15\" points=\"26.1006687 45.0226206 0.987565799 84.8644188 47.8095888 111.898705\"></polygon>\n<path d=\"M60.0737516,38.507213 C59.3168872,35.669825 57.0462939,33.3514298 57.0462939,33.3514298 C57.0462939,33.3514298 57.0804382,35.8849338 56.2894295,37.513615 C55.4847631,39.1696116 53.8765685,40.3054773 53.8765685,40.3054773 C53.8765685,40.3054773 56.1016361,33.8840802 54.2715038,30.1247973 C52.0259496,25.5073552 49.1771803,23.3357803 49.1771803,23.3357803 C49.1771803,23.3357803 50.1070423,28.1319107 48.6240432,31.5065016 C47.1672215,34.8264618 42.8058614,36.7260208 40.7241997,38.7132167 C39.1865699,40.1791435 38.0814341,43.0711623 37.6068289,44.4847347 C37.5715465,44.5883056 37.560165,44.6918765 37.5533362,44.7943093 C37.584066,43.9816759 37.8890881,39.8024186 40.9654858,37.4293925 C43.8404325,35.2111538 41.2431925,30.3478731 41.2431925,30.3478731 C41.2431925,30.3478731 41.7212121,32.5638355 40.9939394,34.1401622 C40.2655285,35.7153507 38.7187936,36.5962726 38.0154218,38.259098 C37.3883056,39.7409589 37.5203301,44.1432921 37.5453692,44.8409731 C37.5453692,44.8591834 37.5476455,44.8762555 37.5476455,44.8921895 C37.5476455,44.9263338 37.5487836,44.9456822 37.5487836,44.9456822 L37.5487836,44.9115379 C37.5590269,45.2655001 37.7138142,45.6080808 37.9972116,45.8448143 L48.3713757,55.6442168 C48.8380139,56.0323232 49.5163466,56.0334614 49.9841229,55.6476312 L60.5938825,45.7105136 C60.9034571,45.4544316 61.0719021,45.0686015 61.0457249,44.6656992 C60.9546735,43.2282259 60.5699815,40.3692133 60.0737516,38.507213\" fill=\"#FFFFFF\" id=\"Fill-17\"></path>\n</g>\n</g>\n</svg>\n</div>\n<div class=\"big\">\n<svg height=\"20\" width=\"232\" xmlns=\"http://www.w3.org/2000/svg\"><defs><lineargradient id=\"a\" x1=\"50%\" x2=\"50%\" y1=\"98.083%\" y2=\".767%\"><stop offset=\"0%\" stop-color=\"#ED1C23\"></stop><stop offset=\"100%\" stop-color=\"#FBAF3B\"></stop></lineargradient></defs><g fill=\"none\" fill-rule=\"evenodd\"><path d=\"M78.622 12.384l1.596 21.94H77.49l-.847-14.154-8.98 15.523-4.899-15.53-4.416 14.162H55.6l7.085-21.871 5.712 17.174 10.224-17.244zm99.46.382l.324.01.454.036c.085.008.175.018.269.03l.61.096c1.09.203 2.518.644 3.883 1.596l.515.383-.46 3.694-.413-.62-.154-.195-.255-.285c-.765-.802-2.485-2.188-5.23-2.188-4.55 0-8.723 3.809-9.3 8.491-.287 2.311.334 4.469 1.755 6.077 1.342 1.517 3.257 2.354 5.39 2.354 2.606 0 4.58-1.225 5.606-2.04l.359-.3.424-.408.507-.552-.466 3.766-.093.06a12.622 12.622 0 01-4.577 1.842l-.629.1-.53.058-.418.027-.444.003c-2.918-.002-5.532-1.142-7.36-3.21-1.851-2.096-2.67-4.88-2.305-7.837.73-5.88 5.964-10.696 11.806-10.974l.732-.014zm18.174 9.018c1.724 0 3.344.713 4.443 1.956 1.101 1.248 1.59 2.88 1.377 4.596-.432 3.504-3.808 6.466-7.375 6.466-1.728 0-3.348-.715-4.45-1.96-1.096-1.242-1.583-2.864-1.377-4.563.44-3.52 3.818-6.495 7.382-6.495zm19.446.535l-1.486 12.02h-2.558l.16-1.292c-.936.93-2.462 1.755-4.173 1.755-1.318 0-2.48-.492-3.267-1.385-.804-.91-1.168-2.184-1.008-3.497l.9-7.274 2.597-.327-.914 7.402c-.101.785.084 1.466.525 1.968.49.552 1.27.845 2.25.845 1.526 0 3.3-1.155 3.51-2.873l.87-7.015 2.594-.327zm-63.587-.547c1.77 0 3.21.58 4.164 1.678 1.047 1.207 1.48 3.01 1.263 5.233l-.097.771h-9.914c.16 1.896 1.567 2.979 3.895 2.979 1.806 0 2.878-.434 3.868-.961l1.119-.623-.312 2.522-.106.06c-1.224.687-2.604 1.356-4.8 1.356-2.092 0-3.873-.708-5.006-1.992-.991-1.12-1.404-2.599-1.198-4.272.548-4.433 4.001-6.751 7.124-6.751zm-62.717 0c1.771 0 3.211.58 4.164 1.678 1.048 1.207 1.48 3.01 1.263 5.233l-.097.771h-9.914c.16 1.896 1.567 2.979 3.895 2.979 1.622 0 2.652-.35 3.563-.803l.594-.315.83-.466-.312 2.522-.105.06c-1.224.687-2.604 1.356-4.8 1.356-2.093 0-3.874-.708-5.007-1.992-.99-1.12-1.404-2.599-1.197-4.272.547-4.433 4-6.751 7.123-6.751zM231.476 12l-2.767 22.34h-2.556l.197-1.59c-1.104 1.191-2.882 2.021-4.471 2.021-1.781 0-3.24-.583-4.217-1.69-1.02-1.151-1.452-2.817-1.222-4.686.485-3.908 3.43-6.636 7.167-6.636 1.565 0 3.065.832 3.852 2.064l1.356-10.968 2.661-.855zm-42.07.002L186.64 34.34h-2.556l2.664-21.483 2.66-.854zm-56.632 1.268l-1.166 2.527h-9.586l-.85 6.867h6.627v.48h-.12l-.883 1.778v.24h-5.933l-1.138 9.163h-2.729l2.612-21.055h13.166zm2.715 9.038l-1.497 12.017h-2.559l1.455-11.722 2.601-.295zm-24.427-.537c1 0 1.93.427 2.616 1.204.84.95 1.224 2.29 1.053 3.677l-.955 7.673h-2.527l.922-7.445c.13-1.017-.027-1.81-.45-2.287-.326-.367-.815-.554-1.458-.554-1.954 0-3.178 1.346-3.332 2.613l-.955 7.673h-2.556l.922-7.445c.127-1.03-.024-1.826-.442-2.297-.319-.362-.801-.544-1.437-.544-1.522 0-3.3 1.166-3.516 2.901l-.912 7.385h-2.559l1.455-11.722 2.594-.295-.146 1.164c1.027-1.077 2.419-1.701 3.854-1.701 1.375 0 2.58.79 3.226 2.083.914-1.13 2.05-2.083 4.603-2.083zm29.487.532l-.206 1.73c1.082-.978 2.932-1.7 4.514-1.7h.269l-.271 2.282h-.214c-1.814 0-4.469.837-4.7 2.7l-.866 7.01h-2.558l1.45-11.693 2.582-.329zm55.47 1.865c-2.31 0-4.27 1.792-4.563 4.168-.144 1.145.15 2.196.824 2.957.64.725 1.586 1.126 2.656 1.126 2.292 0 4.241-1.78 4.532-4.14.146-1.169-.144-2.237-.821-3.003-.634-.715-1.567-1.108-2.628-1.108zm27.497-.029c-2.278 0-4.15 1.752-4.45 4.17-.149 1.187.137 2.255.8 3.006.611.692 1.526 1.076 2.57 1.076 2.294 0 4.173-1.743 4.468-4.143.152-1.21-.13-2.285-.79-3.033-.623-.704-1.52-1.076-2.598-1.076zm-134.356.045c-1.89 0-3.372 1.094-4.015 2.947h7.164a2.853 2.853 0 00-.71-1.956c-.574-.648-1.416-.991-2.439-.991zm62.715 0c-1.892 0-3.37 1.094-4.013 2.947h7.166a2.867 2.867 0 00-.713-1.956c-.573-.648-1.416-.991-2.44-.991zm-17.267-7.614c.919 0 1.706.748 1.754 1.668a1.587 1.587 0 01-1.603 1.692c-.917 0-1.704-.75-1.754-1.668a1.593 1.593 0 011.603-1.692z\" fill=\"#116\"></path><path d=\"M11.131 17.482L20.326.002.495 11.453zm30.621-6.028L21.912 0l9.127 17.5z\" fill=\"#F9AE7C\"></path><path d=\"M10.643 18.326L0 12.293v22.919z\" fill=\"#F9904A\"></path><path d=\"M11.856 18.2l9.264 28.536 9.193-28.519L21.119.59z\" fill=\"url(#a)\"></path><path d=\"M42.243 12.298l-10.716 6.047 10.716 16.872z\" fill=\"#F9904A\"></path><path d=\"M30.985 19.312l-9.234 28.645L41.82 36.371zm-19.799-.017L.423 36.37 20.49 47.957z\" fill=\"#FB6D33\"></path><path d=\"M25.746 16.503c-.324-1.216-1.298-2.21-1.298-2.21s.015 1.086-.324 1.784c-.345.71-1.034 1.197-1.034 1.197s.954-2.752.17-4.363c-.963-1.98-2.184-2.91-2.184-2.91s.398 2.056-.237 3.502c-.624 1.423-2.494 2.237-3.386 3.088-.659.629-1.132 1.868-1.336 2.474a.509.509 0 00-.023.133c.013-.349.144-2.14 1.463-3.157 1.232-.95.119-3.035.119-3.035s.205.95-.107 1.625c-.312.676-.975 1.053-1.277 1.766-.268.635-.212 2.522-.201 2.82v.023l.001.022v-.014a.54.54 0 00.193.4l4.446 4.2c.2.166.49.166.69.001l4.548-4.259a.535.535 0 00.193-.448c-.039-.616-.203-1.84-.416-2.639\" fill=\"#FFF\"></path></g></svg>\n</div>\n</a>\n<button class=\"btn btn-icon btn-soft\" id=\"close-sidebar\">\n<span class=\"material-icons size-20 menu-icon align-middle\">menu</span>\n</button>\n</div>\n<div class=\"d-flex align-items-center\">\n<ul class=\"list-unstyled mb-0\">\n</ul>\n<a class=\"btn btn-icon btn-default ms-4\" href=\"https://memfiredb.com/\" target=\"_blank\" type=\"button\">官网</a>\n<a class=\"btn btn-icon btn-default ms-4\" href=\"https://community.memfiredb.com/\" target=\"_blank\" type=\"button\">论坛</a>\n<a class=\"btn btn-icon btn-default ms-4\" href=\"https://cloud.memfiredb.com/auth/login\" target=\"_blank\" type=\"button\">登录</a>\n<button aria-label=\"Toggle user interface mode\" class=\"btn btn-icon btn-default ms-2\" id=\"mode\" type=\"button\">\n<span class=\"toggle-dark\">\n<svg fill=\"currentColor\" height=\"30\" viewbox=\"0 0 48 48\" width=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n<title>Enable dark mode</title>\n<path d=\"M24 42q-7.5 0-12.75-5.25T6 24q0-7.5 5.25-12.75T24 6q.4 0 .85.025.45.025 1.15.075-1.8 1.6-2.8 3.95-1 2.35-1 4.95 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6 0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z\"></path>\n</svg>\n</span>\n<span class=\"toggle-light\">\n<svg fill=\"currentColor\" height=\"30\" viewbox=\"0 0 48 48\" width=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n<title>Enable light mode</title>\n<path d=\"M24 31q2.9 0 4.95-2.05Q31 26.9 31 24q0-2.9-2.05-4.95Q26.9 17 24 17q-2.9 0-4.95 2.05Q17 21.1 17 24q0 2.9 2.05 4.95Q21.1 31 24 31Zm0 3q-4.15 0-7.075-2.925T14 24q0-4.15 2.925-7.075T24 14q4.15 0 7.075 2.925T34 24q0 4.15-2.925 7.075T24 34ZM3.5 25.5q-.65 0-1.075-.425Q2 24.65 2 24q0-.65.425-1.075Q2.85 22.5 3.5 22.5h5q.65 0 1.075.425Q10 23.35 10 24q0 .65-.425 1.075-.425.425-1.075.425Zm36 0q-.65 0-1.075-.425Q38 24.65 38 24q0-.65.425-1.075.425-.425 1.075-.425h5q.65 0 1.075.425Q46 23.35 46 24q0 .65-.425 1.075-.425.425-1.075.425ZM24 10q-.65 0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 10 24 10Zm0 36q-.65 0-1.075-.425-.425-.425-.425-1.075v-5q0-.65.425-1.075Q23.35 38 24 38q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46ZM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05 0 .6-.4 1-.4.45-1.025.45-.625 0-1.075-.4Zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45ZM33.9 14.1q-.45-.45-.45-1.05 0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4-.625 0-1.075-.4ZM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425ZM24 24Z\"></path>\n</svg>\n</span>\n</button>\n</div>\n</div>\n</div>\n<div class=\"container-fluid\">\n<div class=\"layout-spacing\">\n<div class=\"d-md-flex justify-content-between align-items-center\"></div>\n<div class=\"row flex-xl-nowrap\">\n<div class=\"docs-toc col-xl-3 d-xl-block\"><toc>\n<div class=\"fw-bold text-uppercase mb-2\">本页</div>\n\n</toc></div>\n<div class=\"docs-toc-mobile d-print-none d-xl-none\">\n<button aria-expanded=\"false\" class=\"btn-secondary dropdown-toggle\" data-bs-offset=\"0,0\" data-bs-toggle=\"dropdown\" id=\"toc-dropdown-btn\" type=\"button\">文件</button>\n</div>\n<div class=\"docs-content col-12 col-xl-9 mt-0\">\n<div class=\"mb-0 d-flex\">\n<h1 class=\"content-title mb-0\">\n                                                    概述\n                                                    \n                                                </h1>\n</div>\n<div class=\"main-content\" data-bs-root-margin=\"0px 0px -65%\" data-bs-spy=\"scroll\" data-bs-target=\"#toc-mobile\" id=\"content\">\n<div data-prismjs-copy=\"\" data-prismjs-copy-error=\"\" data-prismjs-copy-success=\"\">\n<p>Supabase存储使存储和服务大文件变得简单.</p>\n<h2 id=\"文件\">文件 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e6%96%87%e4%bb%b6\"><i class=\"material-icons align-middle\">link</i></a></h2><p>文件可以是任何类型的媒体文件。这包括图像、GIF和视频。由于文件的大小，最好将其存储在数据库之外。为了安全起见，HTML文件以纯文本形式返回。</p>\n<h2 id=\"文件夹\">文件夹 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e6%96%87%e4%bb%b6%e5%a4%b9\"><i class=\"material-icons align-middle\">link</i></a></h2><p>文件夹是组织文件的一种方式（就像在计算机上一样）。\n组织文件没有正确或错误的方法。您可以将它们存储在适合项目的任何文件夹结构中。</p>\n<h2 id=\"存储桶\">存储桶 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%ad%98%e5%82%a8%e6%a1%b6\"><i class=\"material-icons align-middle\">link</i></a></h2><p>Bucket是文件和文件夹的不同容器。你可以把它们想象成“超级文件夹”。\n通常，您会为不同的安全和访问规则创建不同的存储桶。例如，您可以将所有视频文件保存在\"video\" 桶中，并将个人资料图片保存在\"avatar\"桶中。</p>\n<div classname=\"video-container\">\n<iframe allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"1\" src=\"https://www.youtube-nocookie.com/embed/J9mTPY8rIXE\"></iframe>\n</div>\n<h2 id=\"开始使用\">开始使用 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8\"><i class=\"material-icons align-middle\">link</i></a></h2><p>这是一个快速指南，介绍了Supabase Storage的基本功能。查找完整的<a href=\"https://github.com/supabase/supabase/tree/master/examples/user-management/nextjs-ts-user-management\" rel=\"external\" target=\"_blank\">GitHub中的示例应用程序<svg height=\"16\" viewbox=\"0 0 24 24\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z\" fill=\"currentColor\"></path></svg></a>, 您可以自行部署。</p>\n<p><a href=\"https://vercel.com/new/git/external?repository-url=https%3A%2F%2Fgithub.com%2Fsupabase%2Fsupabase%2Ftree%2Fmaster%2Fexamples%2Fuser-management%2Fnextjs-ts-user-management&amp;project-name=supabase-user-management&amp;repository-name=supabase-user-management&amp;demo-title=Supabase%20User%20Management&amp;demo-description=An%20example%20web%20app%20using%20Supabase%20and%20Next.js&amp;demo-url=https%3A%2F%2Fsupabase-nextjs-ts-user-management.vercel.app&amp;demo-image=https%3A%2F%2Fi.imgur.com%2FZ3HkQqe.png&amp;integration-ids=oac_jUduyjQgOyzev1fjrW83NYOv&amp;external-id=nextjs-user-management\" rel=\"external\" target=\"_blank\">\n<svg fill=\"none\" height=\"32\" width=\"103\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"#1A1A1A\" height=\"32\" rx=\"6\" width=\"103\"></rect>\n<rect height=\"31\" rx=\"5.5\" stroke=\"#fff\" stroke-opacity=\".14\" width=\"102\" x=\".5\" y=\".5\"></rect>\n<g clip-path=\"url(#a)\">\n<path clip-rule=\"evenodd\" d=\"m16 10.75 6 10.5H10l6-10.5Z\" fill=\"#EDEDED\" fill-rule=\"evenodd\"></path>\n</g>\n<path d=\"M31.5 1v30\" stroke=\"#fff\" stroke-opacity=\".14\"></path>\n<path d=\"M47.4 11.06c3.1 0 4.85 1.8 4.85 4.98 0 3.18-1.7 4.96-4.77 4.96h-3.26v-9.94h3.18Zm-1.7 8.57h1.7c2.22 0 3.31-1.18 3.31-3.59 0-2.43-1.09-3.6-3.31-3.6h-1.7v7.19Zm7.83-2.34c0-2.37 1.38-3.88 3.51-3.88 1.74 0 3.25 1.15 3.33 3.8l.02.5h-5.34c.12 1.39.82 2.2 2 2.2.73 0 1.4-.42 1.7-1.14l1.53.12a3.3 3.3 0 0 1-3.24 2.28c-2.13 0-3.51-1.51-3.51-3.88Zm1.55-.7h3.77c-.2-1.43-.97-1.92-1.8-1.92-1.1 0-1.79.72-1.97 1.92Zm6.98 6.51v-9.52h1.36l.04 1.08c.4-.8 1.17-1.25 2.25-1.25 2.19 0 3.2 1.8 3.2 3.88 0 2.07-1.01 3.88-3.2 3.88-1.02 0-1.78-.4-2.2-1.18v3.11h-1.45Zm1.31-5.81c0 1.33.6 2.6 2 2.6 1.42 0 2-1.26 2-2.6 0-1.33-.58-2.6-2-2.6-1.4 0-2 1.27-2 2.6Zm7.36-6.23h1.45v8.25c0 .33.16.49.48.49h.62V21h-.93c-.98 0-1.62-.63-1.62-1.62v-8.32Zm7.1 10.1c-2.13 0-3.52-1.5-3.52-3.87s1.39-3.88 3.51-3.88c2.13 0 3.52 1.51 3.52 3.88s-1.39 3.88-3.52 3.88Zm-2-3.87c0 1.62.72 2.6 2 2.6 1.27 0 2-.98 2-2.6s-.73-2.6-2-2.6c-1.28 0-2 .98-2 2.6Zm6.07-3.71h1.49l2.11 5.88 2.05-5.88h1.47l-2.97 8.29c-.31.85-.87 1.23-1.78 1.23h-1v-1.19h.8c.38 0 .6-.14.73-.49l.25-.63h-.46l-2.69-7.21Z\" fill=\"#EDEDED\"></path>\n<defs>\n<clippath id=\"a\">\n<path d=\"M0 0h12v12H0z\" fill=\"#fff\" fill-opacity=\"1\" transform=\"translate(10 10)\"></path>\n</clippath>\n</defs>\n</svg>\n<svg height=\"16\" viewbox=\"0 0 24 24\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z\" fill=\"currentColor\"></path></svg></a></p>\n<div class=\"alert alert-info d-flex\" role=\"alert\">\n<div class=\"flex-shrink-1 alert-icon\">\n<span class=\"material-icons size-20 me-2\">\n  info\n  </span></div>\n<div class=\"w-100\">\n<p>文件、文件夹和Bucket名称<strong>必须遵循</strong><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html\" rel=\"external\" target=\"_blank\">AWS对象密钥命名指南<svg height=\"16\" viewbox=\"0 0 24 24\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z\" fill=\"currentColor\"></path></svg></a>并避免使用任何其他字符。</p>\n</div>\n</div>\n<h3 id=\"创建一个存储桶\">创建一个存储桶 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ad%98%e5%82%a8%e6%a1%b6\"><i class=\"material-icons align-middle\">link</i></a></h3><p>你可以使用Supabase仪表板创建一个存储桶。 由于存储可与Postgres数据库互操作，您还可以使用SQL或我们的客户端库。这里我们创建一个叫做 “avatars “的桶。</p>\n\n<div class=\"tab-content\" id=\"nav-tab-content\">\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade show active\" id=\"cbfaed\" role=\"tabpanel\">\n<p>1.进入存储页面。</p>\n<p>2.单击<strong>新建Bucket</strong>并输入Bucket的名称。</p>\n<p>3.单击<strong>创建Bucket</strong>。</p>\n</div>\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade\" id=\"fcabde\" role=\"tabpanel\">\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"063d561\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token comment\">-- Use Postgres to create a bucket.</span>\n\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> storage<span class=\"token punctuation\">.</span>buckets <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'avatars'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'avatars'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n</div>\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade\" id=\"feabcd\" role=\"tabpanel\">\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-js\" id=\"bf5f571\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token comment\">// Use the JS library to create a bucket.</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabase<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span><span class=\"token function\">createBucket</span><span class=\"token punctuation\">(</span><span class=\"token string\">'avatars'</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/sdkdocs/javascript/storage/storage-createbucket/'&gt;&lt;p&gt;对象存储&lt;/p&gt;&lt;strong&gt;createBucket()&lt;/strong&gt;&lt;br&gt;&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/sdkdocs/javascript/storage/storage-createbucket/\">Reference.</a></p>\n</div>\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade\" id=\"adfebc\" role=\"tabpanel\">\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-dart\" id=\"2d8ed34\" tabindex=\"0\"><code class=\"language-dart\"><span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">final</span> supabase <span class=\"token operator\">=</span> <span class=\"token class-name\">SupabaseClient</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'supabaseUrl'</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-literal\"><span class=\"token string\">'supabaseKey'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">final</span> storageResponse <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabase\n      <span class=\"token punctuation\">.</span>storage\n      <span class=\"token punctuation\">.</span><span class=\"token function\">createBucket</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'avatars'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p><a href=\"https://pub.dev/documentation/storage_client/latest/storage_client/SupabaseStorageClient/createBucket.html\" rel=\"external\" target=\"_blank\">Reference.<svg height=\"16\" viewbox=\"0 0 24 24\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z\" fill=\"currentColor\"></path></svg></a></p>\n</div>\n</div>\n<h3 id=\"上传一个文件\">上传一个文件 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e4%b8%8a%e4%bc%a0%e4%b8%80%e4%b8%aa%e6%96%87%e4%bb%b6\"><i class=\"material-icons align-middle\">link</i></a></h3><p>你可以从仪表板上传文件，或在浏览器中使用我们的JS库上传文件.</p>\n\n<div class=\"tab-content\" id=\"nav-tab-content\">\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade show active\" id=\"fecadb\" role=\"tabpanel\">\n<p>1.进入存储页面。</p>\n<p>2.选择要上传文件的存储桶。</p>\n<p>3.单击<strong>上传文件</strong>。</p>\n<p>4.选择你期望上传的文件，等待文件上传完成。</p>\n</div>\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade\" id=\"eabcdf\" role=\"tabpanel\">\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-js\" id=\"f047dbc\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> avatarFile <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabase<span class=\"token punctuation\">.</span>storage\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'avatars'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">upload</span><span class=\"token punctuation\">(</span><span class=\"token string\">'public/avatar1.png'</span><span class=\"token punctuation\">,</span> avatarFile<span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/sdkdocs/javascript/storage/storage-from-upload/'&gt;&lt;p&gt;对象存储&lt;/p&gt;&lt;strong&gt;from.upload()&lt;/strong&gt;&lt;br&gt;&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/sdkdocs/javascript/storage/storage-from-upload/\">Reference.</a></p>\n</div>\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade\" id=\"bcefad\" role=\"tabpanel\">\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-dart\" id=\"8b0f68f\" tabindex=\"0\"><code class=\"language-dart\"><span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">final</span> supabase <span class=\"token operator\">=</span> <span class=\"token class-name\">SupabaseClient</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'supabaseUrl'</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-literal\"><span class=\"token string\">'supabaseKey'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Create file `example.txt` and upload it in `public` bucket</span>\n  <span class=\"token keyword\">final</span> file <span class=\"token operator\">=</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'example.txt'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  file<span class=\"token punctuation\">.</span><span class=\"token function\">writeAsStringSync</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'File content'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">final</span> storageResponse <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabase\n      <span class=\"token punctuation\">.</span>storage\n      <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'public'</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">upload</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'example.txt'</span></span><span class=\"token punctuation\">,</span> file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p><a href=\"https://pub.dev/documentation/storage_client/latest/storage_client/SupabaseStorageClient/createBucket.html\" rel=\"external\" target=\"_blank\">Reference.<svg height=\"16\" viewbox=\"0 0 24 24\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z\" fill=\"currentColor\"></path></svg></a></p>\n</div>\n</div>\n<h3 id=\"下载文件\">下载文件 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e4%b8%8b%e8%bd%bd%e6%96%87%e4%bb%b6\"><i class=\"material-icons align-middle\">link</i></a></h3><p>您可以从仪表盘下载文件，或使用我们的JS库在浏览器中下载文件.</p>\n\n<div class=\"tab-content\" id=\"nav-tab-content\">\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade show active\" id=\"adfbce\" role=\"tabpanel\">\n<p>1.进入存储页面。</p>\n<p>2.选择包含待下载文件的存储桶。</p>\n<p>3.选择要下载的文件。</p>\n<p>4.单击**下载*。</p>\n</div>\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade\" id=\"eabfcd\" role=\"tabpanel\">\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-js\" id=\"9fc778b\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token comment\">// Use the JS library to download a file.</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabase<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'avatars'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">download</span><span class=\"token punctuation\">(</span><span class=\"token string\">'public/avatar1.png'</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/sdkdocs/javascript/storage/storage-from-download/'&gt;&lt;p&gt;对象存储&lt;/p&gt;&lt;strong&gt;from.download()&lt;/strong&gt;&lt;br&gt;&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/sdkdocs/javascript/storage/storage-from-download/\">Reference.</a></p>\n</div>\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade\" id=\"dfaceb\" role=\"tabpanel\">\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-dart\" id=\"81528bc\" tabindex=\"0\"><code class=\"language-dart\"><span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">final</span> supabase <span class=\"token operator\">=</span> <span class=\"token class-name\">SupabaseClient</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'supabaseUrl'</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-literal\"><span class=\"token string\">'supabaseKey'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">final</span> storageResponse <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabase\n      <span class=\"token punctuation\">.</span>storage\n      <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'public'</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">download</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'example.txt'</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p><a href=\"/docs/app/SDKdocs/dartstorage/storage-from-download\">Reference.</a></p>\n</div>\n</div>\n<h3 id=\"添加安全规则\">添加安全规则 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e6%b7%bb%e5%8a%a0%e5%ae%89%e5%85%a8%e8%a7%84%e5%88%99\"><i class=\"material-icons align-middle\">link</i></a></h3><p>要限制对文件的访问，可以使用仪表板或SQL.</p>\n\n<div class=\"tab-content\" id=\"nav-tab-content\">\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade show active\" id=\"bdfcea\" role=\"tabpanel\">\n<p>1.进入存储页面。</p>\n<p>2.单击侧边栏中的<strong>策略</strong>。</p>\n<p>3.单击“对象”表中的<strong>添加策略</strong>，为文件添加策略。您还可以为Buckets创建策略。</p>\n<p>4.选择要将策略应用于下载（SELECT）、上载（INSERT）、更新（UPDATE）还是删除（DELETE）。</p>\n<p>5.为您的策略指定一个唯一的名称。</p>\n<p>6.使用SQL编写策略。</p>\n</div>\n<div aria-labelledby=\"nav-1\" class=\"tab-pane fade\" id=\"cdebfa\" role=\"tabpanel\">\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"3ac6abe\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token comment\">-- Use SQL to create a policy.</span>\n\n<span class=\"token keyword\">create</span> policy <span class=\"token string\">\"Public Access\"</span>\n  <span class=\"token keyword\">on</span> storage<span class=\"token punctuation\">.</span>objects <span class=\"token keyword\">for</span> <span class=\"token keyword\">select</span>\n  <span class=\"token keyword\">using</span> <span class=\"token punctuation\">(</span> bucket_id <span class=\"token operator\">=</span> <span class=\"token string\">'public'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n</div>\n</div>\n<h2 id=\"共有桶和私有桶\">共有桶和私有桶 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%85%b1%e6%9c%89%e6%a1%b6%e5%92%8c%e7%a7%81%e6%9c%89%e6%a1%b6\"><i class=\"material-icons align-middle\">link</i></a></h2><p>默认情况下，存储桶是私有的。</p>\n<p>对于私有存储桶，您可以通过<a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/sdkdocs/javascript/storage/storage-from-download/'&gt;&lt;p&gt;对象存储&lt;/p&gt;&lt;strong&gt;from.download()&lt;/strong&gt;&lt;br&gt;&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/sdkdocs/javascript/storage/storage-from-download/\">下载</a> 方法访问对象。这对应于<code>/object/auth/</code>API端点。\n或者，您可以使用 <a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/sdkdocs/javascript/storage/storage-from-createsignedurl/'&gt;&lt;p&gt;对象存储&lt;/p&gt;&lt;strong&gt;from.createSignedUrl()&lt;/strong&gt;&lt;br&gt;&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/sdkdocs/javascript/storage/storage-from-createsignedurl/\">createSignedUrl</a>方法创建一个具有到期日期的公共共享URL，它调用<code>/object/sign/</code>API。</p>\n<p>对于公共存储桶，您可以在没有令牌或Authorization标头的情况下直接访问资产。\n<a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/sdkdocs/javascript/storage/storage-from-getpublicurl/'&gt;&lt;p&gt;对象存储&lt;/p&gt;&lt;strong&gt;from.getPublicUrl()&lt;/strong&gt;&lt;br&gt;&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/sdkdocs/javascript/storage/storage-from-getpublicurl/\">getPublicUrl</a> 帮助方法返回资产的完整公共URL。\n这将在内部调用<code>/object/public/</code>API端点。虽然访问公共存储桶中的对象不需要授权，但其他操作（如上载、从公共存储桶删除对象）也需要适当的<a href=\"/docs/app/development_guide/storage/storage/#access-control\">access control</a> 。\n公共存储桶也往往具有[更好的性能]（/docs/app/development_guide/storage/storage cdn#Public与private存储桶）。</p>\n<details>\n<summary>高级：反向代理</summary>\n<p>返回的URL通过API代理进行代理。它们的前缀是<code>/storage/v1</code>.</p>\n<p>例如，在托管平台上是</p>\n<p><code>https://[project_ref].supabase.co/storage/v1/object/public/[id]</code></p>\n<p>您可以使用同一端点直接访问存储API。参见 <a href=\"https://supabase.github.io/storage-api\">API文档</a>了解可用操作的完整列表。</p>\n</details>\n<hr/>\n<h2 id=\"访问控制\">访问控制 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e8%ae%bf%e9%97%ae%e6%8e%a7%e5%88%b6\"><i class=\"material-icons align-middle\">link</i></a></h2><p>Supabase存储与<a href=\"/docs/app/database\">Postgres数据库</a>集成。</p>\n<p>这意味着您可以使用相同的<a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/auth/auth/'&gt;&lt;p&gt;认证&lt;/p&gt;&lt;strong&gt;概述&lt;/strong&gt;&lt;br&gt;使用Supabase来认证和授权你的用户。&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/auth/auth/#policies\">行级别安全策略</a>用于管理对文件的访问。Supabase存储将元数据存储在存储架构中的 <code>objects</code> 和<code>buckets</code> 表中。为了允许对文件的读取访问，RLS策略必须允许用户 <code>SELECT</code> <code>objects</code>表，\n并且为了上载新对象，RLS政策必须允许用户访问<code>INSERT</code>到<code>objects</code> 表格等。不同API调用与所需数据库权限之间的映射记录在<a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/sdkdocs/javascript/storage/storage-createbucket/'&gt;&lt;p&gt;对象存储&lt;/p&gt;&lt;strong&gt;createBucket()&lt;/strong&gt;&lt;br&gt;&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/sdkdocs/javascript/storage/storage-createbucket/\">参见文档</a>中。</p>\n<div class=\"alert alert-info d-flex\" role=\"alert\">\n<div class=\"flex-shrink-1 alert-icon\">\n<span class=\"material-icons size-20 me-2\">\n  info\n  </span></div>\n<div class=\"w-100\">\n<p>存储的访问控制通过RLS策略映射到<code>buckets</code> 和<code>objects</code>表上的CRUD操作。</p>\n</div>\n</div>\n<div classname=\"video-container\">\n<iframe allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"1\" src=\"https://www.youtube-nocookie.com/embed/4ERX__Y908k\"></iframe>\n</div>\n<h2 id=\"助手\">助手 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%8a%a9%e6%89%8b\"><i class=\"material-icons align-middle\">link</i></a></h2><p>Supabase存储提供了SQL辅助功能，你可以在你的数据库查询和策略中使用这些功能.</p>\n<hr/>\n<h4 id=\"storagefilename\"><code>storage.filename()</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#storagefilename\"><i class=\"material-icons align-middle\">link</i></a></h4><p>返回文件名.</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"760be3c\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> storage<span class=\"token punctuation\">.</span>filename<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> storage<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>例如，如果文件存储在<code>public/subfolder/avatar.png</code>中。它将返回：</p>\n<p><code>'avatar.png'</code></p>\n<hr/>\n<h4 id=\"storagefoldername\"><code>storage.foldername()</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#storagefoldername\"><i class=\"material-icons align-middle\">link</i></a></h4><p>返回一个数组路径，其中包含文件所属的所有子文件夹。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"8a55759\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> storage<span class=\"token punctuation\">.</span>foldername<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> storage<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>例如，如果你的文件存储在 <code>public/subfolder/avatar.png</code>，它将返回：</p>\n<p><code>[ 'public', 'subfolder' ]</code></p>\n<hr/>\n<h4 id=\"storageextension\"><code>storage.extension()</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#storageextension\"><i class=\"material-icons align-middle\">link</i></a></h4><p>返回一个文件的扩展名.</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"7a9a0cd\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> storage<span class=\"token punctuation\">.</span>extension<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> storage<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>例如，如果你的文件存储在 <code>public/subfolder/avatar.png</code>，它将返回：</p>\n<p><code>'png'</code></p>\n<hr/>\n<h2 id=\"策略样例\">策略样例 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e7%ad%96%e7%95%a5%e6%a0%b7%e4%be%8b\"><i class=\"material-icons align-middle\">link</i></a></h2><p>下面是一些存储策略的示例.</p>\n<h3 id=\"允许公众访问一个存储桶\">允许公众访问一个存储桶 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%85%81%e8%ae%b8%e5%85%ac%e4%bc%97%e8%ae%bf%e9%97%ae%e4%b8%80%e4%b8%aa%e5%ad%98%e5%82%a8%e6%a1%b6\"><i class=\"material-icons align-middle\">link</i></a></h3>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"bfc5df9\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token comment\">-- 1. Allow public access to any files in the \"public\" bucket</span>\n<span class=\"token keyword\">create</span> policy <span class=\"token string\">\"Public Access\"</span>\n<span class=\"token keyword\">on</span> storage<span class=\"token punctuation\">.</span>objects <span class=\"token keyword\">for</span> <span class=\"token keyword\">select</span>\n<span class=\"token keyword\">using</span> <span class=\"token punctuation\">(</span> bucket_id <span class=\"token operator\">=</span> <span class=\"token string\">'public'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"允许登录用户访问存储桶\">允许登录用户访问存储桶 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%85%81%e8%ae%b8%e7%99%bb%e5%bd%95%e7%94%a8%e6%88%b7%e8%ae%bf%e9%97%ae%e5%ad%98%e5%82%a8%e6%a1%b6\"><i class=\"material-icons align-middle\">link</i></a></h3>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"6d40626\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token comment\">-- 1. Allow logged-in access to any files in the \"restricted\" bucket</span>\n<span class=\"token keyword\">create</span> policy <span class=\"token string\">\"Restricted Access\"</span>\n<span class=\"token keyword\">on</span> storage<span class=\"token punctuation\">.</span>objects <span class=\"token keyword\">for</span> <span class=\"token keyword\">select</span>\n<span class=\"token keyword\">using</span> <span class=\"token punctuation\">(</span>\n  bucket_id <span class=\"token operator\">=</span> <span class=\"token string\">'restricted'</span>\n  <span class=\"token operator\">and</span> auth<span class=\"token punctuation\">.</span>role<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token string\">'authenticated'</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"允许个人访问文件\">允许个人访问文件 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%85%81%e8%ae%b8%e4%b8%aa%e4%ba%ba%e8%ae%bf%e9%97%ae%e6%96%87%e4%bb%b6\"><i class=\"material-icons align-middle\">link</i></a></h3>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"bcb5907\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token comment\">-- 1. Allow a user to access their own files</span>\n<span class=\"token keyword\">create</span> policy <span class=\"token string\">\"Individual user Access\"</span>\n<span class=\"token keyword\">on</span> storage<span class=\"token punctuation\">.</span>objects <span class=\"token keyword\">for</span> <span class=\"token keyword\">select</span>\n<span class=\"token keyword\">using</span> <span class=\"token punctuation\">(</span> auth<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> owner <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"参考资源\">参考资源 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%8f%82%e8%80%83%e8%b5%84%e6%ba%90\"><i class=\"material-icons align-middle\">link</i></a></h2><ul>\n<li>在<a href=\"https://supabase.com/blog/supabase-storage\" rel=\"external\" target=\"_blank\">博客文章<svg height=\"16\" viewbox=\"0 0 24 24\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z\" fill=\"currentColor\"></path></svg></a>中阅读有关Suabase Storage的更多信息</li>\n<li><a href=\"https://github.com/supabase/storage-api\" rel=\"external\" target=\"_blank\">GitHu上的Supabase存储<svg height=\"16\" viewbox=\"0 0 24 24\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z\" fill=\"currentColor\"></path></svg></a></li>\n<li><a href=\"https://supabase.github.io/storage-api\" rel=\"external\" target=\"_blank\">Swagger API文档<svg height=\"16\" viewbox=\"0 0 24 24\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z\" fill=\"currentColor\"></path></svg></a></li>\n<li>官方<a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/sdkdocs/javascript/storage/storage-createbucket/'&gt;&lt;p&gt;对象存储&lt;/p&gt;&lt;strong&gt;createBucket()&lt;/strong&gt;&lt;br&gt;&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/sdkdocs/javascript/storage/storage-createbucket/\">JavaScript</a>和<a href=\"/docs/app/SDKdocs/dartstorage/storage-createbucket\">Dart</a>文档</li>\n<li><a href=\"https://github.com/supabase-community\" rel=\"external\" target=\"_blank\">社区图书馆<svg height=\"16\" viewbox=\"0 0 24 24\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z\" fill=\"currentColor\"></path></svg></a></li>\n</ul>\n</div>\n</div>\n<div><hr class=\"doc-hr\"/>\n<div class=\"d-print-none\" id=\"doc-nav\">\n<div class=\"row flex-xl-nowrap\">\n<div class=\"col-sm-6 pt-2 doc-next\">\n<a href=\"/docs/app/development_guide/realtime/usage/presence/\">\n<div class=\"card h-100 my-1\">\n<div class=\"card-body py-2\">\n<p class=\"card-title fs-5 fw-semibold lh-base mb-0\"><i class=\"material-icons align-middle\">navigate_before</i> Presence </p>\n</div>\n</div>\n</a>\n</div>\n<div class=\"col-sm-6 pt-2 doc-prev\">\n<a class=\"ms-auto\" href=\"/docs/app/development_guide/storage/storage-cdn/\">\n<div class=\"card h-100 my-1 text-end\">\n<div class=\"card-body py-2\">\n<p class=\"card-title fs-5 fw-semibold lh-base mb-0\">存储CDN <i class=\"material-icons align-middle\">navigate_next</i></p>\n</div>\n</div>\n</a>\n</div>\n</div>\n</div></div>\n</div>\n</div>\n</div>\n</div>\n\n</main>",
  "markdown": "[MemFireDB备份 6](/)\n\nmenu\n\n[官网](https://memfiredb.com/)\n[论坛](https://community.memfiredb.com/)\n[登录](https://cloud.memfiredb.com/auth/login)\n\nEnable dark mode\n\nEnable light mode\n\n本页\n\n文件\n\n# 概述\n\nSupabase存储使存储和服务大文件变得简单.\n\n## 文件 [*link*](#%e6%96%87%e4%bb%b6)\n\n文件可以是任何类型的媒体文件。这包括图像、GIF和视频。由于文件的大小，最好将其存储在数据库之外。为了安全起见，HTML文件以纯文本形式返回。\n\n## 文件夹 [*link*](#%e6%96%87%e4%bb%b6%e5%a4%b9)\n\n文件夹是组织文件的一种方式（就像在计算机上一样）。\n组织文件没有正确或错误的方法。您可以将它们存储在适合项目的任何文件夹结构中。\n\n## 存储桶 [*link*](#%e5%ad%98%e5%82%a8%e6%a1%b6)\n\nBucket是文件和文件夹的不同容器。你可以把它们想象成“超级文件夹”。\n通常，您会为不同的安全和访问规则创建不同的存储桶。例如，您可以将所有视频文件保存在\"video\" 桶中，并将个人资料图片保存在\"avatar\"桶中。\n\n## 开始使用 [*link*](#%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8)\n\n这是一个快速指南，介绍了Supabase Storage的基本功能。查找完整的[GitHub中的示例应用程序](https://github.com/supabase/supabase/tree/master/examples/user-management/nextjs-ts-user-management), 您可以自行部署。\n\ninfo\n\n文件、文件夹和Bucket名称**必须遵循**[AWS对象密钥命名指南](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html)并避免使用任何其他字符。\n\n### 创建一个存储桶 [*link*](#%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ad%98%e5%82%a8%e6%a1%b6)\n\n你可以使用Supabase仪表板创建一个存储桶。 由于存储可与Postgres数据库互操作，您还可以使用SQL或我们的客户端库。这里我们创建一个叫做 “avatars “的桶。\n\n1.进入存储页面。\n\n2.单击**新建Bucket**并输入Bucket的名称。\n\n3.单击**创建Bucket**。\n\n```\n-- Use Postgres to create a bucket.\n\ninsert into storage.buckets (id, name)\nvalues ('avatars', 'avatars');\n```\n\n```\n// Use the JS library to create a bucket.\n\nconst { data, error } = await supabase.storage.createBucket('avatars')\n```\n\n[Reference.](/docs/app/sdkdocs/javascript/storage/storage-createbucket/)\n\n```\nvoid main() async {\n  final supabase = SupabaseClient('supabaseUrl', 'supabaseKey');\n\n  final storageResponse = await supabase\n      .storage\n      .createBucket('avatars');\n}\n```\n\n[Reference.](https://pub.dev/documentation/storage_client/latest/storage_client/SupabaseStorageClient/createBucket.html)\n\n### 上传一个文件 [*link*](#%e4%b8%8a%e4%bc%a0%e4%b8%80%e4%b8%aa%e6%96%87%e4%bb%b6)\n\n你可以从仪表板上传文件，或在浏览器中使用我们的JS库上传文件.\n\n1.进入存储页面。\n\n2.选择要上传文件的存储桶。\n\n3.单击**上传文件**。\n\n4.选择你期望上传的文件，等待文件上传完成。\n\n```\nconst avatarFile = event.target.files[0]\nconst { data, error } = await supabase.storage\n  .from('avatars')\n  .upload('public/avatar1.png', avatarFile)\n```\n\n[Reference.](/docs/app/sdkdocs/javascript/storage/storage-from-upload/)\n\n```\nvoid main() async {\n  final supabase = SupabaseClient('supabaseUrl', 'supabaseKey');\n\n  // Create file `example.txt` and upload it in `public` bucket\n  final file = File('example.txt');\n  file.writeAsStringSync('File content');\n  final storageResponse = await supabase\n      .storage\n      .from('public')\n      .upload('example.txt', file);\n}\n```\n\n[Reference.](https://pub.dev/documentation/storage_client/latest/storage_client/SupabaseStorageClient/createBucket.html)\n\n### 下载文件 [*link*](#%e4%b8%8b%e8%bd%bd%e6%96%87%e4%bb%b6)\n\n您可以从仪表盘下载文件，或使用我们的JS库在浏览器中下载文件.\n\n1.进入存储页面。\n\n2.选择包含待下载文件的存储桶。\n\n3.选择要下载的文件。\n\n4.单击\\*\\*下载\\*。\n\n```\n// Use the JS library to download a file.\n\nconst { data, error } = await supabase.storage.from('avatars').download('public/avatar1.png')\n```\n\n[Reference.](/docs/app/sdkdocs/javascript/storage/storage-from-download/)\n\n```\nvoid main() async {\n  final supabase = SupabaseClient('supabaseUrl', 'supabaseKey');\n\n  final storageResponse = await supabase\n      .storage\n      .from('public')\n      .download('example.txt');\n}\n```\n\n[Reference.](/docs/app/SDKdocs/dartstorage/storage-from-download)\n\n### 添加安全规则 [*link*](#%e6%b7%bb%e5%8a%a0%e5%ae%89%e5%85%a8%e8%a7%84%e5%88%99)\n\n要限制对文件的访问，可以使用仪表板或SQL.\n\n1.进入存储页面。\n\n2.单击侧边栏中的**策略**。\n\n3.单击“对象”表中的**添加策略**，为文件添加策略。您还可以为Buckets创建策略。\n\n4.选择要将策略应用于下载（SELECT）、上载（INSERT）、更新（UPDATE）还是删除（DELETE）。\n\n5.为您的策略指定一个唯一的名称。\n\n6.使用SQL编写策略。\n\n```\n-- Use SQL to create a policy.\n\ncreate policy \"Public Access\"\n  on storage.objects for select\n  using ( bucket_id = 'public' );\n```\n\n## 共有桶和私有桶 [*link*](#%e5%85%b1%e6%9c%89%e6%a1%b6%e5%92%8c%e7%a7%81%e6%9c%89%e6%a1%b6)\n\n默认情况下，存储桶是私有的。\n\n对于私有存储桶，您可以通过[下载](/docs/app/sdkdocs/javascript/storage/storage-from-download/) 方法访问对象。这对应于`/object/auth/`API端点。\n或者，您可以使用 [createSignedUrl](/docs/app/sdkdocs/javascript/storage/storage-from-createsignedurl/)方法创建一个具有到期日期的公共共享URL，它调用`/object/sign/`API。\n\n对于公共存储桶，您可以在没有令牌或Authorization标头的情况下直接访问资产。\n[getPublicUrl](/docs/app/sdkdocs/javascript/storage/storage-from-getpublicurl/) 帮助方法返回资产的完整公共URL。\n这将在内部调用`/object/public/`API端点。虽然访问公共存储桶中的对象不需要授权，但其他操作（如上载、从公共存储桶删除对象）也需要适当的[access control](/docs/app/development_guide/storage/storage/#access-control) 。\n公共存储桶也往往具有[更好的性能]（/docs/app/development\\_guide/storage/storage cdn#Public与private存储桶）。\n\n高级：反向代理\n\n返回的URL通过API代理进行代理。它们的前缀是`/storage/v1`.\n\n例如，在托管平台上是\n\n`https://[project_ref].supabase.co/storage/v1/object/public/[id]`\n\n您可以使用同一端点直接访问存储API。参见 [API文档](https://supabase.github.io/storage-api)了解可用操作的完整列表。\n\n---\n\n## 访问控制 [*link*](#%e8%ae%bf%e9%97%ae%e6%8e%a7%e5%88%b6)\n\nSupabase存储与[Postgres数据库](/docs/app/database)集成。\n\n这意味着您可以使用相同的[行级别安全策略](/docs/app/development_guide/auth/auth/#policies)用于管理对文件的访问。Supabase存储将元数据存储在存储架构中的 `objects` 和`buckets` 表中。为了允许对文件的读取访问，RLS策略必须允许用户 `SELECT` `objects`表，\n并且为了上载新对象，RLS政策必须允许用户访问`INSERT`到`objects` 表格等。不同API调用与所需数据库权限之间的映射记录在[参见文档](/docs/app/sdkdocs/javascript/storage/storage-createbucket/)中。\n\ninfo\n\n存储的访问控制通过RLS策略映射到`buckets` 和`objects`表上的CRUD操作。\n\n## 助手 [*link*](#%e5%8a%a9%e6%89%8b)\n\nSupabase存储提供了SQL辅助功能，你可以在你的数据库查询和策略中使用这些功能.\n\n---\n\n#### `storage.filename()` [*link*](#storagefilename)\n\n返回文件名.\n\n```\nselect storage.filename(name)\nfrom storage.objects;\n```\n\n例如，如果文件存储在`public/subfolder/avatar.png`中。它将返回：\n\n`'avatar.png'`\n\n---\n\n#### `storage.foldername()` [*link*](#storagefoldername)\n\n返回一个数组路径，其中包含文件所属的所有子文件夹。\n\n```\nselect storage.foldername(name)\nfrom storage.objects;\n```\n\n例如，如果你的文件存储在 `public/subfolder/avatar.png`，它将返回：\n\n`[ 'public', 'subfolder' ]`\n\n---\n\n#### `storage.extension()` [*link*](#storageextension)\n\n返回一个文件的扩展名.\n\n```\nselect storage.extension(name)\nfrom storage.objects;\n```\n\n例如，如果你的文件存储在 `public/subfolder/avatar.png`，它将返回：\n\n`'png'`\n\n---\n\n## 策略样例 [*link*](#%e7%ad%96%e7%95%a5%e6%a0%b7%e4%be%8b)\n\n下面是一些存储策略的示例.\n\n### 允许公众访问一个存储桶 [*link*](#%e5%85%81%e8%ae%b8%e5%85%ac%e4%bc%97%e8%ae%bf%e9%97%ae%e4%b8%80%e4%b8%aa%e5%ad%98%e5%82%a8%e6%a1%b6)\n\n```\n-- 1. Allow public access to any files in the \"public\" bucket\ncreate policy \"Public Access\"\non storage.objects for select\nusing ( bucket_id = 'public' );\n```\n\n### 允许登录用户访问存储桶 [*link*](#%e5%85%81%e8%ae%b8%e7%99%bb%e5%bd%95%e7%94%a8%e6%88%b7%e8%ae%bf%e9%97%ae%e5%ad%98%e5%82%a8%e6%a1%b6)\n\n```\n-- 1. Allow logged-in access to any files in the \"restricted\" bucket\ncreate policy \"Restricted Access\"\non storage.objects for select\nusing (\n  bucket_id = 'restricted'\n  and auth.role() = 'authenticated'\n);\n```\n\n### 允许个人访问文件 [*link*](#%e5%85%81%e8%ae%b8%e4%b8%aa%e4%ba%ba%e8%ae%bf%e9%97%ae%e6%96%87%e4%bb%b6)\n\n```\n-- 1. Allow a user to access their own files\ncreate policy \"Individual user Access\"\non storage.objects for select\nusing ( auth.uid() = owner );\n```\n\n## 参考资源 [*link*](#%e5%8f%82%e8%80%83%e8%b5%84%e6%ba%90)\n\n* 在[博客文章](https://supabase.com/blog/supabase-storage)中阅读有关Suabase Storage的更多信息\n* [GitHu上的Supabase存储](https://github.com/supabase/storage-api)\n* [Swagger API文档](https://supabase.github.io/storage-api)\n* 官方[JavaScript](/docs/app/sdkdocs/javascript/storage/storage-createbucket/)和[Dart](/docs/app/SDKdocs/dartstorage/storage-createbucket)文档\n* [社区图书馆](https://github.com/supabase-community)\n\n---\n\n[*navigate\\_before* Presence](/docs/app/development_guide/realtime/usage/presence/)\n\n[存储CDN *navigate\\_next*](/docs/app/development_guide/storage/storage-cdn/)"
}