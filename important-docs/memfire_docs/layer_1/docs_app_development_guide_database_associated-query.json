{
  "url": "https://docs.memfiredb.com/docs/app/development_guide/database/associated-query/",
  "title": "关联查询 | MemFire Cloud在线文档",
  "depth": 1,
  "timestamp": "2025-08-12 17:52:59",
  "html": "<main class=\"page-content bg-transparent\">\n<div class=\"top-header d-print-none\" id=\"top-header\">\n<div class=\"header-bar d-flex justify-content-between\">\n<div class=\"d-flex align-items-center\">\n<a alt=\"HomePage\" aria-label=\"HomePage\" class=\"logo-icon me-3\" href=\"/\">\n<div class=\"small\">\n<!--?xml version=\"1.0\" encoding=\"UTF-8\"?-->\n<svg height=\"112px\" version=\"1.1\" viewbox=\"0 0 99 112\" width=\"99px\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<title>MemFireDB备份 6</title>\n<defs>\n<lineargradient id=\"linearGradient-1\" x1=\"49.9999885%\" x2=\"49.9999885%\" y1=\"98.082503%\" y2=\"0.766550128%\">\n<stop offset=\"0%\" stop-color=\"#ED1C23\"></stop>\n<stop offset=\"100%\" stop-color=\"#FBAF3B\"></stop>\n</lineargradient>\n</defs>\n<g fill=\"none\" fill-rule=\"evenodd\" id=\"定稿\" stroke=\"none\" stroke-width=\"1\">\n<g id=\"MemFireDB备份-6\">\n<polygon fill=\"#F9AE7C\" id=\"Fill-1\" points=\"25.9728553 40.7912363 47.4268317 0.00591833831 1.15453123 26.7215251\"></polygon>\n<polygon fill=\"#F9AE7C\" id=\"Fill-3\" points=\"97.4213117 26.7267606 51.1285247 0.000910513587 72.4242993 40.8351686\"></polygon>\n<polygon fill=\"#F9904A\" id=\"Fill-5\" points=\"24.8347133 42.7618153 0.000455256793 28.682999 0.000455256793 82.1608764\"></polygon>\n<polygon fill=\"url(#linearGradient-1)\" id=\"Fill-7\" points=\"27.6634514 42.4662399 49.279044 109.05096 70.7296059 42.507213 49.2779058 1.3747617\"></polygon>\n<polygon fill=\"#F9904A\" id=\"Fill-9\" points=\"98.5660549 28.6951771 73.5622137 42.8047233 98.5660549 82.1719163\"></polygon>\n<polygon fill=\"#FB6D33\" id=\"Fill-13\" points=\"72.2987623 45.061545 50.7514582 111.900071 97.579172 84.8646465\"></polygon>\n<polygon fill=\"#FB6D33\" id=\"Fill-15\" points=\"26.1006687 45.0226206 0.987565799 84.8644188 47.8095888 111.898705\"></polygon>\n<path d=\"M60.0737516,38.507213 C59.3168872,35.669825 57.0462939,33.3514298 57.0462939,33.3514298 C57.0462939,33.3514298 57.0804382,35.8849338 56.2894295,37.513615 C55.4847631,39.1696116 53.8765685,40.3054773 53.8765685,40.3054773 C53.8765685,40.3054773 56.1016361,33.8840802 54.2715038,30.1247973 C52.0259496,25.5073552 49.1771803,23.3357803 49.1771803,23.3357803 C49.1771803,23.3357803 50.1070423,28.1319107 48.6240432,31.5065016 C47.1672215,34.8264618 42.8058614,36.7260208 40.7241997,38.7132167 C39.1865699,40.1791435 38.0814341,43.0711623 37.6068289,44.4847347 C37.5715465,44.5883056 37.560165,44.6918765 37.5533362,44.7943093 C37.584066,43.9816759 37.8890881,39.8024186 40.9654858,37.4293925 C43.8404325,35.2111538 41.2431925,30.3478731 41.2431925,30.3478731 C41.2431925,30.3478731 41.7212121,32.5638355 40.9939394,34.1401622 C40.2655285,35.7153507 38.7187936,36.5962726 38.0154218,38.259098 C37.3883056,39.7409589 37.5203301,44.1432921 37.5453692,44.8409731 C37.5453692,44.8591834 37.5476455,44.8762555 37.5476455,44.8921895 C37.5476455,44.9263338 37.5487836,44.9456822 37.5487836,44.9456822 L37.5487836,44.9115379 C37.5590269,45.2655001 37.7138142,45.6080808 37.9972116,45.8448143 L48.3713757,55.6442168 C48.8380139,56.0323232 49.5163466,56.0334614 49.9841229,55.6476312 L60.5938825,45.7105136 C60.9034571,45.4544316 61.0719021,45.0686015 61.0457249,44.6656992 C60.9546735,43.2282259 60.5699815,40.3692133 60.0737516,38.507213\" fill=\"#FFFFFF\" id=\"Fill-17\"></path>\n</g>\n</g>\n</svg>\n</div>\n<div class=\"big\">\n<svg height=\"20\" width=\"232\" xmlns=\"http://www.w3.org/2000/svg\"><defs><lineargradient id=\"a\" x1=\"50%\" x2=\"50%\" y1=\"98.083%\" y2=\".767%\"><stop offset=\"0%\" stop-color=\"#ED1C23\"></stop><stop offset=\"100%\" stop-color=\"#FBAF3B\"></stop></lineargradient></defs><g fill=\"none\" fill-rule=\"evenodd\"><path d=\"M78.622 12.384l1.596 21.94H77.49l-.847-14.154-8.98 15.523-4.899-15.53-4.416 14.162H55.6l7.085-21.871 5.712 17.174 10.224-17.244zm99.46.382l.324.01.454.036c.085.008.175.018.269.03l.61.096c1.09.203 2.518.644 3.883 1.596l.515.383-.46 3.694-.413-.62-.154-.195-.255-.285c-.765-.802-2.485-2.188-5.23-2.188-4.55 0-8.723 3.809-9.3 8.491-.287 2.311.334 4.469 1.755 6.077 1.342 1.517 3.257 2.354 5.39 2.354 2.606 0 4.58-1.225 5.606-2.04l.359-.3.424-.408.507-.552-.466 3.766-.093.06a12.622 12.622 0 01-4.577 1.842l-.629.1-.53.058-.418.027-.444.003c-2.918-.002-5.532-1.142-7.36-3.21-1.851-2.096-2.67-4.88-2.305-7.837.73-5.88 5.964-10.696 11.806-10.974l.732-.014zm18.174 9.018c1.724 0 3.344.713 4.443 1.956 1.101 1.248 1.59 2.88 1.377 4.596-.432 3.504-3.808 6.466-7.375 6.466-1.728 0-3.348-.715-4.45-1.96-1.096-1.242-1.583-2.864-1.377-4.563.44-3.52 3.818-6.495 7.382-6.495zm19.446.535l-1.486 12.02h-2.558l.16-1.292c-.936.93-2.462 1.755-4.173 1.755-1.318 0-2.48-.492-3.267-1.385-.804-.91-1.168-2.184-1.008-3.497l.9-7.274 2.597-.327-.914 7.402c-.101.785.084 1.466.525 1.968.49.552 1.27.845 2.25.845 1.526 0 3.3-1.155 3.51-2.873l.87-7.015 2.594-.327zm-63.587-.547c1.77 0 3.21.58 4.164 1.678 1.047 1.207 1.48 3.01 1.263 5.233l-.097.771h-9.914c.16 1.896 1.567 2.979 3.895 2.979 1.806 0 2.878-.434 3.868-.961l1.119-.623-.312 2.522-.106.06c-1.224.687-2.604 1.356-4.8 1.356-2.092 0-3.873-.708-5.006-1.992-.991-1.12-1.404-2.599-1.198-4.272.548-4.433 4.001-6.751 7.124-6.751zm-62.717 0c1.771 0 3.211.58 4.164 1.678 1.048 1.207 1.48 3.01 1.263 5.233l-.097.771h-9.914c.16 1.896 1.567 2.979 3.895 2.979 1.622 0 2.652-.35 3.563-.803l.594-.315.83-.466-.312 2.522-.105.06c-1.224.687-2.604 1.356-4.8 1.356-2.093 0-3.874-.708-5.007-1.992-.99-1.12-1.404-2.599-1.197-4.272.547-4.433 4-6.751 7.123-6.751zM231.476 12l-2.767 22.34h-2.556l.197-1.59c-1.104 1.191-2.882 2.021-4.471 2.021-1.781 0-3.24-.583-4.217-1.69-1.02-1.151-1.452-2.817-1.222-4.686.485-3.908 3.43-6.636 7.167-6.636 1.565 0 3.065.832 3.852 2.064l1.356-10.968 2.661-.855zm-42.07.002L186.64 34.34h-2.556l2.664-21.483 2.66-.854zm-56.632 1.268l-1.166 2.527h-9.586l-.85 6.867h6.627v.48h-.12l-.883 1.778v.24h-5.933l-1.138 9.163h-2.729l2.612-21.055h13.166zm2.715 9.038l-1.497 12.017h-2.559l1.455-11.722 2.601-.295zm-24.427-.537c1 0 1.93.427 2.616 1.204.84.95 1.224 2.29 1.053 3.677l-.955 7.673h-2.527l.922-7.445c.13-1.017-.027-1.81-.45-2.287-.326-.367-.815-.554-1.458-.554-1.954 0-3.178 1.346-3.332 2.613l-.955 7.673h-2.556l.922-7.445c.127-1.03-.024-1.826-.442-2.297-.319-.362-.801-.544-1.437-.544-1.522 0-3.3 1.166-3.516 2.901l-.912 7.385h-2.559l1.455-11.722 2.594-.295-.146 1.164c1.027-1.077 2.419-1.701 3.854-1.701 1.375 0 2.58.79 3.226 2.083.914-1.13 2.05-2.083 4.603-2.083zm29.487.532l-.206 1.73c1.082-.978 2.932-1.7 4.514-1.7h.269l-.271 2.282h-.214c-1.814 0-4.469.837-4.7 2.7l-.866 7.01h-2.558l1.45-11.693 2.582-.329zm55.47 1.865c-2.31 0-4.27 1.792-4.563 4.168-.144 1.145.15 2.196.824 2.957.64.725 1.586 1.126 2.656 1.126 2.292 0 4.241-1.78 4.532-4.14.146-1.169-.144-2.237-.821-3.003-.634-.715-1.567-1.108-2.628-1.108zm27.497-.029c-2.278 0-4.15 1.752-4.45 4.17-.149 1.187.137 2.255.8 3.006.611.692 1.526 1.076 2.57 1.076 2.294 0 4.173-1.743 4.468-4.143.152-1.21-.13-2.285-.79-3.033-.623-.704-1.52-1.076-2.598-1.076zm-134.356.045c-1.89 0-3.372 1.094-4.015 2.947h7.164a2.853 2.853 0 00-.71-1.956c-.574-.648-1.416-.991-2.439-.991zm62.715 0c-1.892 0-3.37 1.094-4.013 2.947h7.166a2.867 2.867 0 00-.713-1.956c-.573-.648-1.416-.991-2.44-.991zm-17.267-7.614c.919 0 1.706.748 1.754 1.668a1.587 1.587 0 01-1.603 1.692c-.917 0-1.704-.75-1.754-1.668a1.593 1.593 0 011.603-1.692z\" fill=\"#116\"></path><path d=\"M11.131 17.482L20.326.002.495 11.453zm30.621-6.028L21.912 0l9.127 17.5z\" fill=\"#F9AE7C\"></path><path d=\"M10.643 18.326L0 12.293v22.919z\" fill=\"#F9904A\"></path><path d=\"M11.856 18.2l9.264 28.536 9.193-28.519L21.119.59z\" fill=\"url(#a)\"></path><path d=\"M42.243 12.298l-10.716 6.047 10.716 16.872z\" fill=\"#F9904A\"></path><path d=\"M30.985 19.312l-9.234 28.645L41.82 36.371zm-19.799-.017L.423 36.37 20.49 47.957z\" fill=\"#FB6D33\"></path><path d=\"M25.746 16.503c-.324-1.216-1.298-2.21-1.298-2.21s.015 1.086-.324 1.784c-.345.71-1.034 1.197-1.034 1.197s.954-2.752.17-4.363c-.963-1.98-2.184-2.91-2.184-2.91s.398 2.056-.237 3.502c-.624 1.423-2.494 2.237-3.386 3.088-.659.629-1.132 1.868-1.336 2.474a.509.509 0 00-.023.133c.013-.349.144-2.14 1.463-3.157 1.232-.95.119-3.035.119-3.035s.205.95-.107 1.625c-.312.676-.975 1.053-1.277 1.766-.268.635-.212 2.522-.201 2.82v.023l.001.022v-.014a.54.54 0 00.193.4l4.446 4.2c.2.166.49.166.69.001l4.548-4.259a.535.535 0 00.193-.448c-.039-.616-.203-1.84-.416-2.639\" fill=\"#FFF\"></path></g></svg>\n</div>\n</a>\n<button class=\"btn btn-icon btn-soft\" id=\"close-sidebar\">\n<span class=\"material-icons size-20 menu-icon align-middle\">menu</span>\n</button>\n</div>\n<div class=\"d-flex align-items-center\">\n<ul class=\"list-unstyled mb-0\">\n</ul>\n<a class=\"btn btn-icon btn-default ms-4\" href=\"https://memfiredb.com/\" target=\"_blank\" type=\"button\">官网</a>\n<a class=\"btn btn-icon btn-default ms-4\" href=\"https://community.memfiredb.com/\" target=\"_blank\" type=\"button\">论坛</a>\n<a class=\"btn btn-icon btn-default ms-4\" href=\"https://cloud.memfiredb.com/auth/login\" target=\"_blank\" type=\"button\">登录</a>\n<button aria-label=\"Toggle user interface mode\" class=\"btn btn-icon btn-default ms-2\" id=\"mode\" type=\"button\">\n<span class=\"toggle-dark\">\n<svg fill=\"currentColor\" height=\"30\" viewbox=\"0 0 48 48\" width=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n<title>Enable dark mode</title>\n<path d=\"M24 42q-7.5 0-12.75-5.25T6 24q0-7.5 5.25-12.75T24 6q.4 0 .85.025.45.025 1.15.075-1.8 1.6-2.8 3.95-1 2.35-1 4.95 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6 0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z\"></path>\n</svg>\n</span>\n<span class=\"toggle-light\">\n<svg fill=\"currentColor\" height=\"30\" viewbox=\"0 0 48 48\" width=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n<title>Enable light mode</title>\n<path d=\"M24 31q2.9 0 4.95-2.05Q31 26.9 31 24q0-2.9-2.05-4.95Q26.9 17 24 17q-2.9 0-4.95 2.05Q17 21.1 17 24q0 2.9 2.05 4.95Q21.1 31 24 31Zm0 3q-4.15 0-7.075-2.925T14 24q0-4.15 2.925-7.075T24 14q4.15 0 7.075 2.925T34 24q0 4.15-2.925 7.075T24 34ZM3.5 25.5q-.65 0-1.075-.425Q2 24.65 2 24q0-.65.425-1.075Q2.85 22.5 3.5 22.5h5q.65 0 1.075.425Q10 23.35 10 24q0 .65-.425 1.075-.425.425-1.075.425Zm36 0q-.65 0-1.075-.425Q38 24.65 38 24q0-.65.425-1.075.425-.425 1.075-.425h5q.65 0 1.075.425Q46 23.35 46 24q0 .65-.425 1.075-.425.425-1.075.425ZM24 10q-.65 0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 10 24 10Zm0 36q-.65 0-1.075-.425-.425-.425-.425-1.075v-5q0-.65.425-1.075Q23.35 38 24 38q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46ZM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05 0 .6-.4 1-.4.45-1.025.45-.625 0-1.075-.4Zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45ZM33.9 14.1q-.45-.45-.45-1.05 0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4-.625 0-1.075-.4ZM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425ZM24 24Z\"></path>\n</svg>\n</span>\n</button>\n</div>\n</div>\n</div>\n<div class=\"container-fluid\">\n<div class=\"layout-spacing\">\n<div class=\"d-md-flex justify-content-between align-items-center\"></div>\n<div class=\"row flex-xl-nowrap\">\n<div class=\"docs-toc col-xl-3 d-xl-block\"><toc>\n<div class=\"fw-bold text-uppercase mb-2\">本页</div>\n\n</toc></div>\n<div class=\"docs-toc-mobile d-print-none d-xl-none\">\n<button aria-expanded=\"false\" class=\"btn-secondary dropdown-toggle\" data-bs-offset=\"0,0\" data-bs-toggle=\"dropdown\" id=\"toc-dropdown-btn\" type=\"button\">\n                                                Table of Contents\n                                            </button>\n</div>\n<div class=\"docs-content col-12 col-xl-9 mt-0\">\n<div class=\"mb-0 d-flex\">\n<h1 class=\"content-title mb-0\">\n                                                    关联查询\n                                                    \n                                                </h1>\n</div>\n<div class=\"main-content\" data-bs-root-margin=\"0px 0px -65%\" data-bs-spy=\"scroll\" data-bs-target=\"#toc-mobile\" id=\"content\">\n<div data-prismjs-copy=\"\" data-prismjs-copy-error=\"\" data-prismjs-copy-success=\"\">\n<p>多表关联是指在关系型数据库中，通过多个数据表之间的字段关联，实现数据的联合查询和统计分析。使用场景包括：复杂的数据统计分析、跨部门的数据共享和协作、多维度的数据查询和分析等。一般情况下，需要设计合适的数据模型和关联规则来确保查询效率和数据准确性。其中包括：</p>\n<ol>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#1条件过滤查询eq\">过滤查询：eq</a></li>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#2自定义字段查询\">自定义字段查询</a></li>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#3查询所有关联数据\">查询所有关联数据</a></li>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#4条件过滤查询filter\">条件过滤查询：filter</a></li>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#5通过内关联左关联查询\">通过内关联/左关联查询</a></li>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#6连接运算符or\">连接运算符：or</a></li>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#7连接运算符or--and\">连接运算符：or &amp; and</a></li>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#8数据排序order\">数据排序：order</a></li>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#9过滤数据的条数count\">过滤数据的条数： count</a></li>\n<li><a data-bs-delay='{\"hide\":300,\"show\":550}' data-bs-html=\"true\" data-bs-title=\"&lt;a href='/docs/app/development_guide/database/associated-query/'&gt;&lt;p&gt;数据库&lt;/p&gt;&lt;strong&gt;关联查询&lt;/strong&gt;&lt;br&gt;Creating and using associated query.&lt;/a&gt;\" data-bs-toggle=\"tooltip\" href=\"/docs/app/development_guide/database/associated-query/#10限制返回的行数limit\">限制返回的行数： limit</a></li>\n</ol>\n<p>本教程是通过数据表：学生课表信息表、课程信息表、学校信息表，三者之间存在的关联关系的示例来讲解如何通过JavaScript SDK的API进行多表关联查询数据的教程。</p>\n<h2 id=\"准备工作创建数据表\">准备工作，创建数据表 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c%e5%88%9b%e5%bb%ba%e6%95%b0%e6%8d%ae%e8%a1%a8\"><i class=\"material-icons align-middle\">link</i></a></h2><h3 id=\"创建subject表\">创建subject表 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%9b%e5%bb%basubject%e8%a1%a8\"><i class=\"material-icons align-middle\">link</i></a></h3><p>subject表主要记录课程信息，表结构字段如下：\n\n\n\n\n\n\n\n</p><table class=\"table table-striped-columns\">\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>int8</td>\n<td>主键，自增，唯一标识ID</td>\n</tr>\n<tr>\n<td>teacherName</td>\n<td>text</td>\n<td>老师</td>\n</tr>\n<tr>\n<td>adress</td>\n<td>text</td>\n<td>上课地点</td>\n</tr>\n<tr>\n<td>subjectName</td>\n<td>text</td>\n<td>科目</td>\n</tr>\n<tr>\n<td>updated_at</td>\n<td>timeatamptz</td>\n<td>修改时间</td>\n</tr>\n</tbody>\n</table>\n<p></p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"d0606bd\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject\"</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"id\"</span> <span class=\"token keyword\">BIGINT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"teacherName\"</span> <span class=\"token keyword\">TEXT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"updated_at\"</span> <span class=\"token keyword\">TIMESTAMP</span> <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TIME</span> ZONE <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"adress\"</span> <span class=\"token keyword\">TEXT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"subjectName\"</span> <span class=\"token keyword\">TEXT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">CONSTRAINT</span> <span class=\"token string\">\"subject_pkey\"</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"teacherName\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"adress\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"subjectName\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'张珊'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-12 18:28:30.725+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'计科楼2-1003'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'数据库原理'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"teacherName\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"adress\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"subjectName\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'李四'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-17 16:13:54.527+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'重楼2-3112'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'计算机基础'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"teacherName\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"adress\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"subjectName\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'王五'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-17 17:28:49.603+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'4教-101'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'分布式数据库'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"teacherName\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"adress\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"subjectName\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'4'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'王博'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-18 17:28:59.265+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'综合楼4-401'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'高等数学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"创建school表\">创建school表 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%9b%e5%bb%baschool%e8%a1%a8\"><i class=\"material-icons align-middle\">link</i></a></h3><p>school表主要记录学校信息，表结构字段如下：</p>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>int8</td>\n<td>主键，自增，唯一标识ID</td>\n</tr>\n<tr>\n<td>schoolName</td>\n<td>text</td>\n<td>学校名称（唯一）</td>\n</tr>\n<tr>\n<td>updated_at</td>\n<td>timeatamptz</td>\n<td>修改时间</td>\n</tr>\n</tbody>\n</table>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"8a6dadb\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"school\"</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"id\"</span> <span class=\"token keyword\">BIGINT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"updated_at\"</span> <span class=\"token keyword\">TIMESTAMP</span> <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TIME</span> ZONE <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"schoolName\"</span> <span class=\"token keyword\">TEXT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">CONSTRAINT</span> <span class=\"token string\">\"school_pkey\"</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">CONSTRAINT</span> <span class=\"token string\">\"school_schoolName_key\"</span> <span class=\"token keyword\">UNIQUE</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"schoolName\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"school\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"schoolName\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-12 18:43:53.166+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'武汉大学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"school\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"schoolName\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-22 11:01:19.088+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'武汉科技大学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"school\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"schoolName\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-22 11:01:36.909+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'华中师范大学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"school\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"schoolName\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'4'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-22 11:01:56.022+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'武汉理工大学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h3 id=\"创建subject_student表\">创建subject_student表 <a aria-hidden=\"true\" class=\"anchor\" href=\"#%e5%88%9b%e5%bb%basubject_student%e8%a1%a8\"><i class=\"material-icons align-middle\">link</i></a></h3><p>subject_student表主要记录学生的课表和学校信息，表结构字段如下：</p>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>int8</td>\n<td>主键，自增，唯一标识ID</td>\n</tr>\n<tr>\n<td>studentId</td>\n<td>int8</td>\n<td>学号</td>\n</tr>\n<tr>\n<td>subjectId</td>\n<td>int8</td>\n<td>外键，与subject表的id关联</td>\n</tr>\n<tr>\n<td>schoolId</td>\n<td>int8</td>\n<td>外键，与school表的id关联</td>\n</tr>\n<tr>\n<td>updated_at</td>\n<td>timestampt</td>\n<td>修改时间</td>\n</tr>\n</tbody>\n</table>\n<p>关键点：</p>\n<p>1.创建subject_student表时，必须要设置字段subjectId与subject表的id关联和字段schoolId与school表的id关联，否则将不能执行关联查询。</p>\n<p>2.需要创建\"studentId\"、“subjectId”、“schoolId\"联合唯一索引。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-sql\" id=\"98a538e\" tabindex=\"0\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject_student\"</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"id\"</span> <span class=\"token keyword\">BIGINT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"updated_at\"</span> <span class=\"token keyword\">TIMESTAMP</span> <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TIME</span> ZONE <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"studentId\"</span> <span class=\"token keyword\">BIGINT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"schoolId\"</span> <span class=\"token keyword\">BIGINT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"subjectId\"</span> <span class=\"token keyword\">BIGINT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">CONSTRAINT</span> <span class=\"token string\">\"subject_student_pkey\"</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">--设置subjectId与课程表的id关联和schoolId与学校表的id关联</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject_student\"</span> <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">CONSTRAINT</span> <span class=\"token string\">\"subject_student_subjectId_fkey\"</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"subjectId\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ON</span> <span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">NO</span> <span class=\"token keyword\">ACTION</span> <span class=\"token keyword\">ON</span> <span class=\"token keyword\">UPDATE</span> <span class=\"token keyword\">NO</span> <span class=\"token keyword\">ACTION</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject_student\"</span> <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">CONSTRAINT</span> <span class=\"token string\">\"subject_student_schoolId_fkey\"</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"schoolId\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"school\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">ON</span> <span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">NO</span> <span class=\"token keyword\">ACTION</span> <span class=\"token keyword\">ON</span> <span class=\"token keyword\">UPDATE</span> <span class=\"token keyword\">NO</span> <span class=\"token keyword\">ACTION</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 创建联合唯一索引</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">INDEX</span> subject_student_schoolId_ukey <span class=\"token keyword\">ON</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject_student\"</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"studentId\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"schoolId\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"subjectId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject_student\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"studentId\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"subjectId\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"schoolId\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-17 09:51:14.733+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'20222201'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject_student\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"studentId\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"subjectId\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"schoolId\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-17 16:14:51.236+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'20222202'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject_student\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"studentId\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"subjectId\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"schoolId\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-17 17:29:33.938+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'20222201'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"subject_student\"</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"updated_at\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"studentId\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"subjectId\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"schoolId\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'4'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2022-08-18 17:30:09.934+08'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'20222202'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'4'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'4'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"1条件过滤查询eq\">1.条件过滤查询：<code>eq</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#1%e6%9d%a1%e4%bb%b6%e8%bf%87%e6%bb%a4%e6%9f%a5%e8%af%a2eq\"><i class=\"material-icons align-middle\">link</i></a></h2><p>查询学生的studentId为20222201的课表信息</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"3ec9792\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabase\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subject_student'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  subject (id,subjectName,teacherName,adress)\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"studentId\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"20222201\"</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>使用方法注意：</p>\n<p>1.在这个查询中，<code>from</code>后面的<code>subject_student</code>是主表，<code>subject</code>是关联表，<code>id</code>,<code>subjectName</code>,<code>teacherName</code>,<code>adress</code>是查询<code>subject</code>中的指定字段，用逗号隔开，用括号包住。</p>\n<p>2.<code>eq</code>通常是指<code>\"=\"</code>，也就是等于运算符。它只能过滤主表的字段，不能过滤外联表的字段。</p>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"c64e76a\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'数据库原理'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'张珊'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'计科楼2-1003'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'分布式数据库'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'王五'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'4教-101'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"2自定义字段查询\">2.自定义字段查询 <a aria-hidden=\"true\" class=\"anchor\" href=\"#2%e8%87%aa%e5%ae%9a%e4%b9%89%e5%ad%97%e6%ae%b5%e6%9f%a5%e8%af%a2\"><i class=\"material-icons align-middle\">link</i></a></h2><p>查询学生的studentId为20222201的课表信息和学校信息。</p>\n<p>当您想要自定义查询主表与关联表的一些字段时，您可以在<code>select</code>里面用逗号把主表的字段隔开，后面加上想要查询的关联表，关联表紧挨着用括号包裹它的字段，也需要用逗号隔开。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"6e22426\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabaseJs\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subject_student'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  id,\n  studentId,\n  subject (id,subjectName,teacherName,adress),\n  school (id,schoolName)\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"studentId\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"20222201\"</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"a76ae05\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">studentId</span><span class=\"token operator\">:</span> <span class=\"token number\">20222201</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'数据库原理'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'张珊'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'计科楼2-1003'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">school</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">schoolName</span><span class=\"token operator\">:</span> <span class=\"token string\">'武汉大学'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">studentId</span><span class=\"token operator\">:</span> <span class=\"token number\">20222201</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'分布式数据库'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'王五'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'4教-101'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">school</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">schoolName</span><span class=\"token operator\">:</span> <span class=\"token string\">'华中师范大学'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"3查询所有关联数据\">3.查询所有关联数据 <a aria-hidden=\"true\" class=\"anchor\" href=\"#3%e6%9f%a5%e8%af%a2%e6%89%80%e6%9c%89%e5%85%b3%e8%81%94%e6%95%b0%e6%8d%ae\"><i class=\"material-icons align-middle\">link</i></a></h2><p>查询所有学生的课表信息</p>\n<p><code>*</code>代表查询所在表的所有字段信息。</p>\n<p>查询所有关联数据时，<code>select</code> 后面不需要任何条件过滤。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"1174e0b\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabase\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subject_student'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">*,\n  subject (*)\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"6f79f78\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T09:29:33.938+00:00\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"studentId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20222201</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"schoolId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"subjectId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"王五\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T09:28:49.603+00:00\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4教-101\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"分布式数据库\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T01:51:14+00:00\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"studentId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20222201</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"schoolId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"subjectId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"李四\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T08:13:54.527+00:00\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"重楼2-3112\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"计算机基础\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T08:14:51+00:00\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"studentId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20222202</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"schoolId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"subjectId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"王博\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-18T09:28:59.265+00:00\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"综合楼4-401\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"高等数学\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-18T09:30:09+00:00\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"studentId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20222202</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"schoolId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"subjectId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"张珊\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-12T10:28:30.725+00:00\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"计科楼2-1003\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"武汉大学\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"4条件过滤查询filter\">4.条件过滤查询：<code>filter</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#4%e6%9d%a1%e4%bb%b6%e8%bf%87%e6%bb%a4%e6%9f%a5%e8%af%a2filter\"><i class=\"material-icons align-middle\">link</i></a></h2><p>小知识：<code>filter</code>  、<code>eq</code>、<code>and</code>和<code>or</code>的区别。</p>\n<ul>\n<li><code>filter</code>通常指的是 <code>SELECT</code> 语句中的 <code>WHERE </code>子句。<code>WHERE</code> 子句用于筛选符合指定条件的数据行，它指定了一个或多个条件，以便只返回满足条件的数据。</li>\n<li><code>OR </code>是用于连接两个或多个条件，表示只要满足其中任意一个条件即可。</li>\n<li><code>AND </code>是用于连接两个或多个条件，表示同时满足所有条件才能返回结果。</li>\n<li><code>filter</code>是用于筛选满足指定条件的记录，它可以使用一系列操作符（如<code>=</code>，<code>&lt;&gt;</code>，<code>&lt;</code>,<code>&gt;</code>等）来定义多种筛选条件，而<code>eq</code>则是SQL中的一个方法，用于创建<code>filter</code>条件中的<code>=</code>操作符。</li>\n</ul>\n<p>查询学生的studentId为20222201的课程名称为“数据库原理”的课表信息和某个学生的学校为“武汉大学”的学校信息。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"8592619\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabaseJs\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subject_student'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  school (schoolName),\n  subject (id,subjectName,teacherName,adress)\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'school.schoolName'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'eq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'武汉大学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subject.subjectName'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'eq'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'数据库原理'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'studentId'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'eq'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'20222201'</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>使用方法注意：</p>\n<p>1.在这个查询中，<code>from</code>后面的<code>subject_student</code>是主表，<code>subject</code>是关联表，<code>id</code>,<code>subjectName</code>,<code>teacherName</code>,<code>adress</code>是查询<code>subject</code>中的指定字段，用逗号隔开，用括号包住。</p>\n<p>2.<code>filter</code>是用于筛选满足指定条件的记录，它可以使用一系列操作符（如<code>=</code>，<code>&lt;&gt;</code>，<code>&lt;</code>,<code>&gt;</code>等）来定义多种筛选条件,比如在这个查询中就使用了<code>eq</code>来定义了筛选条件。</p>\n<p>3.<code>filter</code>第一个参数是数据表的指定查询字段，如果要查询外联表的字段，则需要带上外联表的名称,例如：<code>subject.subjectName</code>，就是通过<code>subject</code>外联表的<code>subjectName</code>字段来筛选，如果不带则表示通过主表的字段筛选。</p>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"1142d3a\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">school</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">schoolName</span><span class=\"token operator\">:</span> <span class=\"token string\">'武汉大学'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'数据库原理'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'张珊'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'计科楼2-1003'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">school</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>“null\"出现的原因：如果不满足对外部表列的过滤器（在这个例子中外部表是subject和school），则外部表返回<code>[]</code>或<code>null</code>，但不会过滤掉主表。如果要过滤掉主表行，使用<code>!inner</code>。</p>\n<h2 id=\"5通过内关联左关联查询\">5.通过内关联/左关联查询 <a aria-hidden=\"true\" class=\"anchor\" href=\"#5%e9%80%9a%e8%bf%87%e5%86%85%e5%85%b3%e8%81%94%e5%b7%a6%e5%85%b3%e8%81%94%e6%9f%a5%e8%af%a2\"><i class=\"material-icons align-middle\">link</i></a></h2><p>查询学生的studentId为20222201，课程名称为“高等数学”或者老师是王五的课表信息。</p>\n<p>目前暂时只提供<code>!inner</code>和<code>!left</code>两种关联查询。</p>\n<p>如果要过滤掉主表行，则可使用<code>!inner</code>。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"ad5a6ea\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabaseJs\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subject_student'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  subject!inner (id,subjectName,teacherName,adress)\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">or</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subjectName.eq.高等数学,teacherName.eq.王五'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foreignTable</span><span class=\"token operator\">:</span> <span class=\"token string\">'subject'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">'studentId'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'20222201'</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"aa100d2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'分布式数据库'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'王五'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'4教-101'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"6连接运算符or\">6.连接运算符：<code>or</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#6%e8%bf%9e%e6%8e%a5%e8%bf%90%e7%ae%97%e7%ac%a6or\"><i class=\"material-icons align-middle\">link</i></a></h2><p>and 和 or 也叫连接运算符，在查询数据时用于缩小查询范围，我们可以用 and 或者 or 指定一个或多个查询条件。</p>\n<ul>\n<li>and 表示一个或者多个条件必须同时成立。</li>\n<li>or 表示多个条件中只需满足其中任意一个即可。</li>\n</ul>\n<p>查询学生的studentId为20222202，课程名称为“高等数学”或者老师是王五的课表信息。</p>\n<p>用<code>foreignTable</code>指定过滤的外联表，不设置则会判断为过滤主表。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-go\" id=\"f31b69b\" tabindex=\"0\"><code class=\"language-go\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> await supabaseJs\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>'subject_student'<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token keyword\">select</span><span class=\"token punctuation\">(</span><span class=\"token string\">`\n  subject!inner(id,subjectName,teacherName,adress)\n`</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">or</span><span class=\"token punctuation\">(</span>'subjectName<span class=\"token punctuation\">.</span>eq<span class=\"token punctuation\">.</span>高等数学<span class=\"token punctuation\">,</span>teacherName<span class=\"token punctuation\">.</span>eq<span class=\"token punctuation\">.</span>王五'<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> foreignTable<span class=\"token punctuation\">:</span> <span class=\"token char\">'subject'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token char\">'studentId'</span><span class=\"token punctuation\">,</span><span class=\"token char\">'20222202'</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-json\" id=\"1291d1f\" tabindex=\"0\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"高等数学\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"王博\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"综合楼4-401\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"7连接运算符or--and\">7.连接运算符：<code>or</code> &amp; <code>and</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#7%e8%bf%9e%e6%8e%a5%e8%bf%90%e7%ae%97%e7%ac%a6or--and\"><i class=\"material-icons align-middle\">link</i></a></h2><p>用<code>foreignTable</code>指定过滤的外联表，不设置则会判断为过滤主表。</p>\n<p>查询学生的studentId为20222202，课程名称为“高等数学”或者老师是王五、教室在4教-101的课表信息。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"1eb1236\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabaseJs\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subject_student'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  subject!inner(id,subjectName,teacherName,adress)\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">or</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subjectName.eq.高等数学,and(teacherName.eq.王五,adress.eq.4教-101)'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foreignTable</span><span class=\"token operator\">:</span> <span class=\"token string\">'subject'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">'studentId'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'20222202'</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"f9718d2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"高等数学\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"王博\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"综合楼4-401\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"8数据排序order\">8.数据排序：<code>order</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#8%e6%95%b0%e6%8d%ae%e6%8e%92%e5%ba%8forder\"><i class=\"material-icons align-middle\">link</i></a></h2><p>用<code>foreignTable</code>指定过滤的外联表，不设置则会判断为过滤主表。</p>\n<p>查按课程名称降序的课程信息。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"5c8ca7f\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabaseJs\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subject_student'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  subject (id,subjectName,teacherName,adress)\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">order</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subjectName'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foreignTable</span><span class=\"token operator\">:</span> <span class=\"token string\">'subject'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">ascending</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"2e71650\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'数据库原理'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'张珊'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'计科楼2-1003'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'计算机基础'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'李四'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'重楼2-3112'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'分布式数据库'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'王五'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'4教-101'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">subjectName</span><span class=\"token operator\">:</span> <span class=\"token string\">'高等数学'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">teacherName</span><span class=\"token operator\">:</span> <span class=\"token string\">'王博'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">adress</span><span class=\"token operator\">:</span> <span class=\"token string\">'综合楼4-401'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"9过滤数据的条数count\">9.过滤数据的条数：<code>count</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#9%e8%bf%87%e6%bb%a4%e6%95%b0%e6%8d%ae%e7%9a%84%e6%9d%a1%e6%95%b0count\"><i class=\"material-icons align-middle\">link</i></a></h2><p>查询每个学生的课表有多少个。</p>\n<p>注意：为了避免外联表也有跟<code>count</code>相同的名字的字段，建议采取其他的字段命名。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"855e0e2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> supabaseJs\n  <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">'subject_student'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">*,\n  subject (count)\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-javascript\" id=\"4b3c29c\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">updated_at</span><span class=\"token operator\">:</span> <span class=\"token string\">'2022-08-17T01:51:14.733+00:00'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">studentId</span><span class=\"token operator\">:</span> <span class=\"token number\">20222201</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">schoolId</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subjectId</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">updated_at</span><span class=\"token operator\">:</span> <span class=\"token string\">'2022-08-17T08:14:51.236+00:00'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">studentId</span><span class=\"token operator\">:</span> <span class=\"token number\">20222202</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">schoolId</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subjectId</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">updated_at</span><span class=\"token operator\">:</span> <span class=\"token string\">'2022-08-17T09:29:33.938+00:00'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">studentId</span><span class=\"token operator\">:</span> <span class=\"token number\">20222201</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">schoolId</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subjectId</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">updated_at</span><span class=\"token operator\">:</span> <span class=\"token string\">'2022-08-18T09:30:09.934+00:00'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">studentId</span><span class=\"token operator\">:</span> <span class=\"token number\">20222202</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">schoolId</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subjectId</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">subject</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<h2 id=\"10限制返回的行数limit\">10.限制返回的行数：<code>limit</code> <a aria-hidden=\"true\" class=\"anchor\" href=\"#10%e9%99%90%e5%88%b6%e8%bf%94%e5%9b%9e%e7%9a%84%e8%a1%8c%e6%95%b0limit\"><i class=\"material-icons align-middle\">link</i></a></h2><p>查询每个学生的课表信息，并且只返回一条课表信息。</p>\n<p>用<code>foreignTable</code>指定过滤的外联表，不设置则会判断为过滤主表。</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-go\" id=\"256e3ff\" tabindex=\"0\"><code class=\"language-go\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> await supabaseJs\n<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>'subject_student'<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token keyword\">select</span><span class=\"token punctuation\">(</span><span class=\"token string\">`*,subject (*)`</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> foreignTable<span class=\"token punctuation\">:</span> <span class=\"token char\">'subject'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n<p>结果：</p>\n<div class=\"prism-codeblock\">\n<div class=\"code-toolbar\"><pre class=\"language-json\" id=\"dbac356\" tabindex=\"0\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T09:29:33.938+00:00\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"studentId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20222201</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"schoolId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"subjectId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"王五\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T09:28:49.603+00:00\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4教-101\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"分布式数据库\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T01:51:14+00:00\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"studentId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20222201</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"schoolId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"subjectId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"李四\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T08:13:54.527+00:00\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"重楼2-3112\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"计算机基础\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-17T08:14:51+00:00\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"studentId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20222202</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"schoolId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"subjectId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"王博\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-18T09:28:59.265+00:00\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"综合楼4-401\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"高等数学\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-18T09:30:09+00:00\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"studentId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20222202</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"schoolId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"subjectId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"subject\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"teacherName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"张珊\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"updated_at\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-08-12T10:28:30.725+00:00\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"adress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"计科楼2-1003\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"subjectName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"武汉大学\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button aria-label=\"copy\" class=\"copy-to-clipboard-button\" data-copy-state=\"copy\" type=\"button\"><span></span></button></div></div></div>\n</div>\n</div>\n</div>\n<div><hr class=\"doc-hr\"/>\n<div class=\"d-print-none\" id=\"doc-nav\">\n<div class=\"row flex-xl-nowrap\">\n<div class=\"col-sm-6 pt-2 doc-next\">\n<a href=\"/docs/app/development_guide/database/connecting-to-postgres/\">\n<div class=\"card h-100 my-1\">\n<div class=\"card-body py-2\">\n<p class=\"card-title fs-5 fw-semibold lh-base mb-0\"><i class=\"material-icons align-middle\">navigate_before</i> 数据库连接</p>\n</div>\n</div>\n</a>\n</div>\n<div class=\"col-sm-6 pt-2 doc-prev\">\n<a class=\"ms-auto\" href=\"/docs/app/development_guide/database/wrappers/overview/\">\n<div class=\"card h-100 my-1 text-end\">\n<div class=\"card-body py-2\">\n<p class=\"card-title fs-5 fw-semibold lh-base mb-0\">外部数据包装器(FDW) <i class=\"material-icons align-middle\">navigate_next</i></p>\n</div>\n</div>\n</a>\n</div>\n</div>\n</div></div>\n</div>\n</div>\n</div>\n</div>\n\n</main>",
  "markdown": "[MemFireDB备份 6](/)\n\nmenu\n\n[官网](https://memfiredb.com/)\n[论坛](https://community.memfiredb.com/)\n[登录](https://cloud.memfiredb.com/auth/login)\n\nEnable dark mode\n\nEnable light mode\n\n本页\n\nTable of Contents\n\n# 关联查询\n\n多表关联是指在关系型数据库中，通过多个数据表之间的字段关联，实现数据的联合查询和统计分析。使用场景包括：复杂的数据统计分析、跨部门的数据共享和协作、多维度的数据查询和分析等。一般情况下，需要设计合适的数据模型和关联规则来确保查询效率和数据准确性。其中包括：\n\n1. [过滤查询：eq](/docs/app/development_guide/database/associated-query/#1条件过滤查询eq)\n2. [自定义字段查询](/docs/app/development_guide/database/associated-query/#2自定义字段查询)\n3. [查询所有关联数据](/docs/app/development_guide/database/associated-query/#3查询所有关联数据)\n4. [条件过滤查询：filter](/docs/app/development_guide/database/associated-query/#4条件过滤查询filter)\n5. [通过内关联/左关联查询](/docs/app/development_guide/database/associated-query/#5通过内关联左关联查询)\n6. [连接运算符：or](/docs/app/development_guide/database/associated-query/#6连接运算符or)\n7. [连接运算符：or & and](/docs/app/development_guide/database/associated-query/#7连接运算符or--and)\n8. [数据排序：order](/docs/app/development_guide/database/associated-query/#8数据排序order)\n9. [过滤数据的条数： count](/docs/app/development_guide/database/associated-query/#9过滤数据的条数count)\n10. [限制返回的行数： limit](/docs/app/development_guide/database/associated-query/#10限制返回的行数limit)\n\n本教程是通过数据表：学生课表信息表、课程信息表、学校信息表，三者之间存在的关联关系的示例来讲解如何通过JavaScript SDK的API进行多表关联查询数据的教程。\n\n## 准备工作，创建数据表 [*link*](#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c%e5%88%9b%e5%bb%ba%e6%95%b0%e6%8d%ae%e8%a1%a8)\n\n### 创建subject表 [*link*](#%e5%88%9b%e5%bb%basubject%e8%a1%a8)\n\nsubject表主要记录课程信息，表结构字段如下：\n\n| 名称 | 类型 | 描述 |\n| --- | --- | --- |\n| id | int8 | 主键，自增，唯一标识ID |\n| teacherName | text | 老师 |\n| adress | text | 上课地点 |\n| subjectName | text | 科目 |\n| updated\\_at | timeatamptz | 修改时间 |\n\n```\nCREATE TABLE \"public\".\"subject\" (\n  \"id\" BIGINT NOT NULL,\n  \"teacherName\" TEXT NOT NULL,\n  \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL,\n  \"adress\" TEXT NOT NULL,\n  \"subjectName\" TEXT NOT NULL,\n  CONSTRAINT \"subject_pkey\" PRIMARY KEY (\"id\")\n);\nINSERT INTO \"public\".\"subject\" (\"id\", \"teacherName\", \"updated_at\", \"adress\", \"subjectName\") VALUES ('1', '张珊', '2022-08-12 18:28:30.725+08', '计科楼2-1003', '数据库原理');\nINSERT INTO \"public\".\"subject\" (\"id\", \"teacherName\", \"updated_at\", \"adress\", \"subjectName\") VALUES ('2', '李四', '2022-08-17 16:13:54.527+08', '重楼2-3112', '计算机基础');\nINSERT INTO \"public\".\"subject\" (\"id\", \"teacherName\", \"updated_at\", \"adress\", \"subjectName\") VALUES ('3', '王五', '2022-08-17 17:28:49.603+08', '4教-101', '分布式数据库');\nINSERT INTO \"public\".\"subject\" (\"id\", \"teacherName\", \"updated_at\", \"adress\", \"subjectName\") VALUES ('4', '王博', '2022-08-18 17:28:59.265+08', '综合楼4-401', '高等数学');\n```\n\n### 创建school表 [*link*](#%e5%88%9b%e5%bb%baschool%e8%a1%a8)\n\nschool表主要记录学校信息，表结构字段如下：\n\n| 名称 | 类型 | 描述 |\n| --- | --- | --- |\n| id | int8 | 主键，自增，唯一标识ID |\n| schoolName | text | 学校名称（唯一） |\n| updated\\_at | timeatamptz | 修改时间 |\n\n```\nCREATE TABLE \"public\".\"school\" (\n  \"id\" BIGINT NOT NULL,\n  \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL,\n  \"schoolName\" TEXT NOT NULL,\n  CONSTRAINT \"school_pkey\" PRIMARY KEY (\"id\"),\n  CONSTRAINT \"school_schoolName_key\" UNIQUE (\"schoolName\")\n);\nINSERT INTO \"public\".\"school\" (\"id\", \"updated_at\", \"schoolName\") VALUES ('1', '2022-08-12 18:43:53.166+08', '武汉大学');\nINSERT INTO \"public\".\"school\" (\"id\", \"updated_at\", \"schoolName\") VALUES ('2', '2022-08-22 11:01:19.088+08', '武汉科技大学');\nINSERT INTO \"public\".\"school\" (\"id\", \"updated_at\", \"schoolName\") VALUES ('3', '2022-08-22 11:01:36.909+08', '华中师范大学');\nINSERT INTO \"public\".\"school\" (\"id\", \"updated_at\", \"schoolName\") VALUES ('4', '2022-08-22 11:01:56.022+08', '武汉理工大学');\n```\n\n### 创建subject\\_student表 [*link*](#%e5%88%9b%e5%bb%basubject_student%e8%a1%a8)\n\nsubject\\_student表主要记录学生的课表和学校信息，表结构字段如下：\n\n| 名称 | 类型 | 描述 |\n| --- | --- | --- |\n| id | int8 | 主键，自增，唯一标识ID |\n| studentId | int8 | 学号 |\n| subjectId | int8 | 外键，与subject表的id关联 |\n| schoolId | int8 | 外键，与school表的id关联 |\n| updated\\_at | timestampt | 修改时间 |\n\n关键点：\n\n1.创建subject\\_student表时，必须要设置字段subjectId与subject表的id关联和字段schoolId与school表的id关联，否则将不能执行关联查询。\n\n2.需要创建\"studentId\"、“subjectId”、“schoolId\"联合唯一索引。\n\n```\nCREATE TABLE \"public\".\"subject_student\" (\n  \"id\" BIGINT NOT NULL,\n  \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL,\n  \"studentId\" BIGINT NOT NULL,\n  \"schoolId\" BIGINT NULL,\n  \"subjectId\" BIGINT NOT NULL,\n  CONSTRAINT \"subject_student_pkey\" PRIMARY KEY (\"id\")\n);\n--设置subjectId与课程表的id关联和schoolId与学校表的id关联\nALTER TABLE \"public\".\"subject_student\" ADD CONSTRAINT \"subject_student_subjectId_fkey\" FOREIGN KEY (\"subjectId\") REFERENCES \"public\".\"subject\" (\"id\") ON DELETE NO ACTION ON UPDATE NO ACTION;\nALTER TABLE \"public\".\"subject_student\" ADD CONSTRAINT \"subject_student_schoolId_fkey\" FOREIGN KEY (\"schoolId\") REFERENCES \"public\".\"school\" (\"id\") ON DELETE NO ACTION ON UPDATE NO ACTION;\n-- 创建联合唯一索引\nCREATE UNIQUE INDEX subject_student_schoolId_ukey ON \"public\".\"subject_student\"(\"studentId\",\"schoolId\",\"subjectId\");\n\nINSERT INTO \"public\".\"subject_student\" (\"id\", \"updated_at\", \"studentId\", \"subjectId\",\"schoolId\") VALUES ('1', '2022-08-17 09:51:14.733+08', '20222201', '1','1');\nINSERT INTO \"public\".\"subject_student\" (\"id\", \"updated_at\", \"studentId\", \"subjectId\",\"schoolId\") VALUES ('2', '2022-08-17 16:14:51.236+08', '20222202', '2','2');\nINSERT INTO \"public\".\"subject_student\" (\"id\", \"updated_at\", \"studentId\", \"subjectId\",\"schoolId\") VALUES ('3', '2022-08-17 17:29:33.938+08', '20222201', '3','3');\nINSERT INTO \"public\".\"subject_student\" (\"id\", \"updated_at\", \"studentId\", \"subjectId\",\"schoolId\") VALUES ('4', '2022-08-18 17:30:09.934+08', '20222202', '4','4');\n```\n\n## 1.条件过滤查询：`eq` [*link*](#1%e6%9d%a1%e4%bb%b6%e8%bf%87%e6%bb%a4%e6%9f%a5%e8%af%a2eq)\n\n查询学生的studentId为20222201的课表信息\n\n```\nconst { data, error } = await supabase\n  .from('subject_student')\n  .select(`\n  subject (id,subjectName,teacherName,adress)\n`).eq(\"studentId\",\"20222201\")\n```\n\n使用方法注意：\n\n1.在这个查询中，`from`后面的`subject_student`是主表，`subject`是关联表，`id`,`subjectName`,`teacherName`,`adress`是查询`subject`中的指定字段，用逗号隔开，用括号包住。\n\n2.`eq`通常是指`\"=\"`，也就是等于运算符。它只能过滤主表的字段，不能过滤外联表的字段。\n\n结果：\n\n```\n[\n  {\n    subject: {\n      id: 1,\n      subjectName: '数据库原理',\n      teacherName: '张珊',\n      adress: '计科楼2-1003'\n    }\n  },\n  {\n    subject: {\n      id: 3,\n      subjectName: '分布式数据库',\n      teacherName: '王五',\n      adress: '4教-101'\n    }\n  }\n]\n```\n\n## 2.自定义字段查询 [*link*](#2%e8%87%aa%e5%ae%9a%e4%b9%89%e5%ad%97%e6%ae%b5%e6%9f%a5%e8%af%a2)\n\n查询学生的studentId为20222201的课表信息和学校信息。\n\n当您想要自定义查询主表与关联表的一些字段时，您可以在`select`里面用逗号把主表的字段隔开，后面加上想要查询的关联表，关联表紧挨着用括号包裹它的字段，也需要用逗号隔开。\n\n```\nconst { data, error } = await supabaseJs\n  .from('subject_student')\n  .select(`\n  id,\n  studentId,\n  subject (id,subjectName,teacherName,adress),\n  school (id,schoolName)\n`).eq(\"studentId\",\"20222201\")\n```\n\n结果：\n\n```\n[\n  {\n    id: 1,\n    studentId: 20222201,\n    subject: {\n      id: 1,\n      subjectName: '数据库原理',\n      teacherName: '张珊',\n      adress: '计科楼2-1003'\n    },\n    school: { id: 1, schoolName: '武汉大学' }\n  },\n  {\n    id: 3,\n    studentId: 20222201,\n    subject: {\n      id: 3,\n      subjectName: '分布式数据库',\n      teacherName: '王五',\n      adress: '4教-101'\n    },\n    school: { id: 3, schoolName: '华中师范大学' }\n  }\n]\n```\n\n## 3.查询所有关联数据 [*link*](#3%e6%9f%a5%e8%af%a2%e6%89%80%e6%9c%89%e5%85%b3%e8%81%94%e6%95%b0%e6%8d%ae)\n\n查询所有学生的课表信息\n\n`*`代表查询所在表的所有字段信息。\n\n查询所有关联数据时，`select` 后面不需要任何条件过滤。\n\n```\nconst { data, error } = await supabase\n  .from('subject_student')\n  .select(`*,\n  subject (*)\n`)\n```\n\n结果：\n\n```\n[\n    {\n        \"id\": 3,\n        \"updated_at\": \"2022-08-17T09:29:33.938+00:00\",\n        \"studentId\": 20222201,\n        \"schoolId\": 3,\n        \"subjectId\": 3,\n        \"subject\": {\n            \"id\": 3,\n            \"teacherName\": \"王五\",\n            \"updated_at\": \"2022-08-17T09:28:49.603+00:00\",\n            \"adress\": \"4教-101\",\n            \"subjectName\": \"分布式数据库\"\n        }\n    },\n    {\n        \"id\": 1,\n        \"updated_at\": \"2022-08-17T01:51:14+00:00\",\n        \"studentId\": 20222201,\n        \"schoolId\": 1,\n        \"subjectId\": 2,\n        \"subject\": {\n            \"id\": 2,\n            \"teacherName\": \"李四\",\n            \"updated_at\": \"2022-08-17T08:13:54.527+00:00\",\n            \"adress\": \"重楼2-3112\",\n            \"subjectName\": \"计算机基础\"\n        }\n    },\n    {\n        \"id\": 2,\n        \"updated_at\": \"2022-08-17T08:14:51+00:00\",\n        \"studentId\": 20222202,\n        \"schoolId\": 2,\n        \"subjectId\": 4,\n        \"subject\": {\n            \"id\": 4,\n            \"teacherName\": \"王博\",\n            \"updated_at\": \"2022-08-18T09:28:59.265+00:00\",\n            \"adress\": \"综合楼4-401\",\n            \"subjectName\": \"高等数学\"\n        }\n    },\n    {\n        \"id\": 4,\n        \"updated_at\": \"2022-08-18T09:30:09+00:00\",\n        \"studentId\": 20222202,\n        \"schoolId\": 4,\n        \"subjectId\": 1,\n        \"subject\": {\n            \"id\": 1,\n            \"teacherName\": \"张珊\",\n            \"updated_at\": \"2022-08-12T10:28:30.725+00:00\",\n            \"adress\": \"计科楼2-1003\",\n            \"subjectName\": \"武汉大学\"\n        }\n    }\n]\n```\n\n## 4.条件过滤查询：`filter` [*link*](#4%e6%9d%a1%e4%bb%b6%e8%bf%87%e6%bb%a4%e6%9f%a5%e8%af%a2filter)\n\n小知识：`filter` 、`eq`、`and`和`or`的区别。\n\n* `filter`通常指的是 `SELECT` 语句中的 `WHERE` 子句。`WHERE` 子句用于筛选符合指定条件的数据行，它指定了一个或多个条件，以便只返回满足条件的数据。\n* `OR` 是用于连接两个或多个条件，表示只要满足其中任意一个条件即可。\n* `AND` 是用于连接两个或多个条件，表示同时满足所有条件才能返回结果。\n* `filter`是用于筛选满足指定条件的记录，它可以使用一系列操作符（如`=`，`<>`，`<`,`>`等）来定义多种筛选条件，而`eq`则是SQL中的一个方法，用于创建`filter`条件中的`=`操作符。\n\n查询学生的studentId为20222201的课程名称为“数据库原理”的课表信息和某个学生的学校为“武汉大学”的学校信息。\n\n```\nconst { data, error } = await supabaseJs\n  .from('subject_student')\n  .select(`\n  school (schoolName),\n  subject (id,subjectName,teacherName,adress)\n`).filter('school.schoolName', 'eq', '武汉大学').filter('subject.subjectName', 'eq', '数据库原理').filter('studentId','eq','20222201')\n```\n\n使用方法注意：\n\n1.在这个查询中，`from`后面的`subject_student`是主表，`subject`是关联表，`id`,`subjectName`,`teacherName`,`adress`是查询`subject`中的指定字段，用逗号隔开，用括号包住。\n\n2.`filter`是用于筛选满足指定条件的记录，它可以使用一系列操作符（如`=`，`<>`，`<`,`>`等）来定义多种筛选条件,比如在这个查询中就使用了`eq`来定义了筛选条件。\n\n3.`filter`第一个参数是数据表的指定查询字段，如果要查询外联表的字段，则需要带上外联表的名称,例如：`subject.subjectName`，就是通过`subject`外联表的`subjectName`字段来筛选，如果不带则表示通过主表的字段筛选。\n\n结果：\n\n```\n[\n  {\n    school: { schoolName: '武汉大学' },\n    subject: {\n      id: 1,\n      subjectName: '数据库原理',\n      teacherName: '张珊',\n      adress: '计科楼2-1003'\n    }\n  },\n  { school: null, subject: null }\n]\n```\n\n“null\"出现的原因：如果不满足对外部表列的过滤器（在这个例子中外部表是subject和school），则外部表返回`[]`或`null`，但不会过滤掉主表。如果要过滤掉主表行，使用`!inner`。\n\n## 5.通过内关联/左关联查询 [*link*](#5%e9%80%9a%e8%bf%87%e5%86%85%e5%85%b3%e8%81%94%e5%b7%a6%e5%85%b3%e8%81%94%e6%9f%a5%e8%af%a2)\n\n查询学生的studentId为20222201，课程名称为“高等数学”或者老师是王五的课表信息。\n\n目前暂时只提供`!inner`和`!left`两种关联查询。\n\n如果要过滤掉主表行，则可使用`!inner`。\n\n```\nconst { data, error } = await supabaseJs\n  .from('subject_student')\n  .select(`\n  subject!inner (id,subjectName,teacherName,adress)\n`).or('subjectName.eq.高等数学,teacherName.eq.王五', { foreignTable: 'subject' }).eq('studentId','20222201')\n```\n\n结果：\n\n```\n[\n  {\n    subject: {\n      id: 3,\n      subjectName: '分布式数据库',\n      teacherName: '王五',\n      adress: '4教-101'\n    }\n  }\n]\n```\n\n## 6.连接运算符：`or` [*link*](#6%e8%bf%9e%e6%8e%a5%e8%bf%90%e7%ae%97%e7%ac%a6or)\n\nand 和 or 也叫连接运算符，在查询数据时用于缩小查询范围，我们可以用 and 或者 or 指定一个或多个查询条件。\n\n* and 表示一个或者多个条件必须同时成立。\n* or 表示多个条件中只需满足其中任意一个即可。\n\n查询学生的studentId为20222202，课程名称为“高等数学”或者老师是王五的课表信息。\n\n用`foreignTable`指定过滤的外联表，不设置则会判断为过滤主表。\n\n```\nconst { data, error } = await supabaseJs\n  .from('subject_student')\n  .select(`\n  subject!inner(id,subjectName,teacherName,adress)\n`).or('subjectName.eq.高等数学,teacherName.eq.王五', { foreignTable: 'subject' }).eq('studentId','20222202')\n```\n\n结果：\n\n```\n[\n    {\n        \"subject\": {\n            \"id\": 4,\n            \"subjectName\": \"高等数学\",\n            \"teacherName\": \"王博\",\n            \"adress\": \"综合楼4-401\"\n        }\n    }\n]\n```\n\n## 7.连接运算符：`or` & `and` [*link*](#7%e8%bf%9e%e6%8e%a5%e8%bf%90%e7%ae%97%e7%ac%a6or--and)\n\n用`foreignTable`指定过滤的外联表，不设置则会判断为过滤主表。\n\n查询学生的studentId为20222202，课程名称为“高等数学”或者老师是王五、教室在4教-101的课表信息。\n\n```\nconst { data, error } = await supabaseJs\n  .from('subject_student')\n  .select(`\n  subject!inner(id,subjectName,teacherName,adress)\n`).or('subjectName.eq.高等数学,and(teacherName.eq.王五,adress.eq.4教-101)', { foreignTable: 'subject' }).eq('studentId','20222202')\n```\n\n结果：\n\n```\n[\n    {\n        \"subject\": {\n            \"id\": 4,\n            \"subjectName\": \"高等数学\",\n            \"teacherName\": \"王博\",\n            \"adress\": \"综合楼4-401\"\n        }\n    }\n]\n```\n\n## 8.数据排序：`order` [*link*](#8%e6%95%b0%e6%8d%ae%e6%8e%92%e5%ba%8forder)\n\n用`foreignTable`指定过滤的外联表，不设置则会判断为过滤主表。\n\n查按课程名称降序的课程信息。\n\n```\nconst { data, error } = await supabaseJs\n  .from('subject_student')\n  .select(`\n  subject (id,subjectName,teacherName,adress)\n`).order('subjectName', { foreignTable: 'subject', ascending: false })\n```\n\n结果：\n\n```\n[\n  {\n    subject: {\n      id: 1,\n      subjectName: '数据库原理',\n      teacherName: '张珊',\n      adress: '计科楼2-1003'\n    }\n  },\n  {\n    subject: {\n      id: 2,\n      subjectName: '计算机基础',\n      teacherName: '李四',\n      adress: '重楼2-3112'\n    }\n  },\n  {\n    subject: {\n      id: 3,\n      subjectName: '分布式数据库',\n      teacherName: '王五',\n      adress: '4教-101'\n    }\n  },\n  {\n    subject: {\n      id: 4,\n      subjectName: '高等数学',\n      teacherName: '王博',\n      adress: '综合楼4-401'\n    }\n  }\n]\n```\n\n## 9.过滤数据的条数：`count` [*link*](#9%e8%bf%87%e6%bb%a4%e6%95%b0%e6%8d%ae%e7%9a%84%e6%9d%a1%e6%95%b0count)\n\n查询每个学生的课表有多少个。\n\n注意：为了避免外联表也有跟`count`相同的名字的字段，建议采取其他的字段命名。\n\n```\nconst { data, error } = await supabaseJs\n  .from('subject_student')\n  .select(`*,\n  subject (count)\n`)\n```\n\n结果：\n\n```\n{\n    id: 1,\n    updated_at: '2022-08-17T01:51:14.733+00:00',\n    studentId: 20222201,\n    schoolId: 1,\n    subjectId: 1,\n    subject: { count: 1 }\n  },\n  {\n    id: 2,\n    updated_at: '2022-08-17T08:14:51.236+00:00',\n    studentId: 20222202,\n    schoolId: 2,\n    subjectId: 2,\n    subject: { count: 1 }\n  },\n  {\n    id: 3,\n    updated_at: '2022-08-17T09:29:33.938+00:00',\n    studentId: 20222201,\n    schoolId: 3,\n    subjectId: 3,\n    subject: { count: 1 }\n  },\n  {\n    id: 4,\n    updated_at: '2022-08-18T09:30:09.934+00:00',\n    studentId: 20222202,\n    schoolId: 4,\n    subjectId: 4,\n    subject: { count: 1 }\n  }\n]\n```\n\n## 10.限制返回的行数：`limit` [*link*](#10%e9%99%90%e5%88%b6%e8%bf%94%e5%9b%9e%e7%9a%84%e8%a1%8c%e6%95%b0limit)\n\n查询每个学生的课表信息，并且只返回一条课表信息。\n\n用`foreignTable`指定过滤的外联表，不设置则会判断为过滤主表。\n\n```\nconst { data, error } = await supabaseJs\n.from('subject_student')\n.select(`*,subject (*)`)\n.limit(1, { foreignTable: 'subject' })\n```\n\n结果：\n\n```\n[\n    {\n        \"id\": 3,\n        \"updated_at\": \"2022-08-17T09:29:33.938+00:00\",\n        \"studentId\": 20222201,\n        \"schoolId\": 3,\n        \"subjectId\": 3,\n        \"subject\": {\n            \"id\": 3,\n            \"teacherName\": \"王五\",\n            \"updated_at\": \"2022-08-17T09:28:49.603+00:00\",\n            \"adress\": \"4教-101\",\n            \"subjectName\": \"分布式数据库\"\n        }\n    },\n    {\n        \"id\": 1,\n        \"updated_at\": \"2022-08-17T01:51:14+00:00\",\n        \"studentId\": 20222201,\n        \"schoolId\": 1,\n        \"subjectId\": 2,\n        \"subject\": {\n            \"id\": 2,\n            \"teacherName\": \"李四\",\n            \"updated_at\": \"2022-08-17T08:13:54.527+00:00\",\n            \"adress\": \"重楼2-3112\",\n            \"subjectName\": \"计算机基础\"\n        }\n    },\n    {\n        \"id\": 2,\n        \"updated_at\": \"2022-08-17T08:14:51+00:00\",\n        \"studentId\": 20222202,\n        \"schoolId\": 2,\n        \"subjectId\": 4,\n        \"subject\": {\n            \"id\": 4,\n            \"teacherName\": \"王博\",\n            \"updated_at\": \"2022-08-18T09:28:59.265+00:00\",\n            \"adress\": \"综合楼4-401\",\n            \"subjectName\": \"高等数学\"\n        }\n    },\n    {\n        \"id\": 4,\n        \"updated_at\": \"2022-08-18T09:30:09+00:00\",\n        \"studentId\": 20222202,\n        \"schoolId\": 4,\n        \"subjectId\": 1,\n        \"subject\": {\n            \"id\": 1,\n            \"teacherName\": \"张珊\",\n            \"updated_at\": \"2022-08-12T10:28:30.725+00:00\",\n            \"adress\": \"计科楼2-1003\",\n            \"subjectName\": \"武汉大学\"\n        }\n    }\n]\n```\n\n---\n\n[*navigate\\_before* 数据库连接](/docs/app/development_guide/database/connecting-to-postgres/)\n\n[外部数据包装器(FDW) *navigate\\_next*](/docs/app/development_guide/database/wrappers/overview/)"
}